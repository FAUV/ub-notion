const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-8vmMMb2D.js","assets/vendor-query-CfuGqJst.js","assets/vendor-react-Ba_DDsk4.js","assets/Dashboard-DgJ51mXp.js","assets/tasks-t6ey88ep.js","assets/projects-D-qCoM0Y.js","assets/date-CZKpIZnz.js","assets/parseISO-Clwiv-83.js","assets/vendor-charts-Ci5G67-A.js","assets/Projects-ue_nZ3JU.js","assets/importCsv-Dai6I4rs.js","assets/ViewBar-GmxfLOF8.js","assets/Timeline-cZrqngIZ.js","assets/Tasks-DdDR1n7N.js","assets/vendor-dnd-DPzRzUPU.js","assets/Sprints-ESUOAk5I.js","assets/Studies-fEOy68Ti.js","assets/Content-B_oVgLAX.js","assets/DailyPlanner-BTUN9oH1.js","assets/calendarEvents-BGl9AXxe.js","assets/journal-v6KK7h4e.js","assets/WeeklyReview-DYNZl1oP.js","assets/goals-qM0qUXOX.js","assets/Areas-D1lJzcPU.js","assets/areas-CuyiulQt.js","assets/Goals-Ba_jWF6r.js","assets/Habits-DkkB_Im7.js","assets/Knowledge-AsLd4aUL.js","assets/CRM-DpWfSYQA.js","assets/Journal-u9qjKz4I.js","assets/Meetings-CCg0Joo0.js","assets/UltimateCalendar-D95n6dE0.js"])))=>i.map(i=>d[i]);
var Oi=Object.defineProperty;var Si=(o,n,r)=>n in o?Oi(o,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[n]=r;var Pe=(o,n,r)=>Si(o,typeof n!="symbol"?n+"":n,r);import{Q as Pi,p as Ei,c as Ci,j as le,a as Di}from"./vendor-query-CfuGqJst.js";import{a as Mi,c as da,g as ji,r as be,b as Ai,R as Ri,d as Ii}from"./vendor-react-Ba_DDsk4.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();const Li="modulepreload",Ti=function(o){return"/"+o},ha={},xe=function(n,r,i){let c=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),b=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));c=Promise.allSettled(r.map(O=>{if(O=Ti(O),O in ha)return;ha[O]=!0;const C=O.endsWith(".css"),A=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${O}"]${A}`))return;const R=document.createElement("link");if(R.rel=C?"stylesheet":Li,C||(R.as="script"),R.crossOrigin="",R.href=O,b&&R.setAttribute("nonce",b),document.head.appendChild(R),C)return new Promise((D,V)=>{R.addEventListener("load",D),R.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${O}`)))})}))}function f(p){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=p,window.dispatchEvent(b),!b.defaultPrevented)throw p}return c.then(p=>{for(const b of p||[])b.status==="rejected"&&f(b.reason);return n().catch(f)})};var Pr={},pa=Mi;Pr.createRoot=pa.createRoot,Pr.hydrateRoot=pa.hydrateRoot;const z=o=>typeof o=="string",Yt=()=>{let o,n;const r=new Promise((i,c)=>{o=i,n=c});return r.resolve=o,r.reject=n,r},ma=o=>o==null?"":""+o,Ni=(o,n,r)=>{o.forEach(i=>{n[i]&&(r[i]=n[i])})},Ki=/###/g,ga=o=>o&&o.indexOf("###")>-1?o.replace(Ki,"."):o,ya=o=>!o||z(o),Gt=(o,n,r)=>{const i=z(n)?n.split("."):n;let c=0;for(;c<i.length-1;){if(ya(o))return{};const f=ga(i[c]);!o[f]&&r&&(o[f]=new r),Object.prototype.hasOwnProperty.call(o,f)?o=o[f]:o={},++c}return ya(o)?{}:{obj:o,k:ga(i[c])}},va=(o,n,r)=>{const{obj:i,k:c}=Gt(o,n,Object);if(i!==void 0||n.length===1){i[c]=r;return}let f=n[n.length-1],p=n.slice(0,n.length-1),b=Gt(o,p,Object);for(;b.obj===void 0&&p.length;)f=`${p[p.length-1]}.${f}`,p=p.slice(0,p.length-1),b=Gt(o,p,Object),b&&b.obj&&typeof b.obj[`${b.k}.${f}`]<"u"&&(b.obj=void 0);b.obj[`${b.k}.${f}`]=r},Fi=(o,n,r,i)=>{const{obj:c,k:f}=Gt(o,n,Object);c[f]=c[f]||[],c[f].push(r)},jn=(o,n)=>{const{obj:r,k:i}=Gt(o,n);if(r)return r[i]},Bi=(o,n,r)=>{const i=jn(o,r);return i!==void 0?i:jn(n,r)},Ka=(o,n,r)=>{for(const i in n)i!=="__proto__"&&i!=="constructor"&&(i in o?z(o[i])||o[i]instanceof String||z(n[i])||n[i]instanceof String?r&&(o[i]=n[i]):Ka(o[i],n[i],r):o[i]=n[i]);return o},Dt=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $i=o=>z(o)?o.replace(/[&<>"'\/]/g,n=>qi[n]):o;class Vi{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const r=this.regExpMap.get(n);if(r!==void 0)return r;const i=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,i),this.regExpQueue.push(n),i}}const Wi=[" ",",","?","!",";"],Ui=new Vi(20),zi=(o,n,r)=>{n=n||"",r=r||"";const i=Wi.filter(p=>n.indexOf(p)<0&&r.indexOf(p)<0);if(i.length===0)return!0;const c=Ui.getRegExp(`(${i.map(p=>p==="?"?"\\?":p).join("|")})`);let f=!c.test(o);if(!f){const p=o.indexOf(r);p>0&&!c.test(o.substring(0,p))&&(f=!0)}return f},Er=function(o,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!o)return;if(o[n])return o[n];const i=n.split(r);let c=o;for(let f=0;f<i.length;){if(!c||typeof c!="object")return;let p,b="";for(let O=f;O<i.length;++O)if(O!==f&&(b+=r),b+=i[O],p=c[b],p!==void 0){if(["string","number","boolean"].indexOf(typeof p)>-1&&O<i.length-1)continue;f+=O-f+1;break}c=p}return c},An=o=>o&&o.replace("_","-"),Yi={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,n){console&&console[o]&&console[o].apply(console,n)}};class Rn{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,r)}init(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||Yi,this.options=r,this.debug=r.debug}log(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}warn(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}error(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}deprecate(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(n,r,i,c){return c&&!this.debug?null:(z(n[0])&&(n[0]=`${i}${this.prefix} ${n[0]}`),this.logger[r](n))}create(n){return new Rn(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Rn(this.logger,n)}}var Be=new Rn;class Nn{constructor(){this.observers={}}on(n,r){return n.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const c=this.observers[i].get(r)||0;this.observers[i].set(r,c+1)}),this}off(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n].delete(r)}}emit(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];this.observers[n]&&Array.from(this.observers[n].entries()).forEach(p=>{let[b,O]=p;for(let C=0;C<O;C++)b(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(p=>{let[b,O]=p;for(let C=0;C<O;C++)b.apply(b,[n,...i])})}}class ba extends Nn{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const r=this.options.ns.indexOf(n);r>-1&&this.options.ns.splice(r,1)}getResource(n,r,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const f=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,p=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let b;n.indexOf(".")>-1?b=n.split("."):(b=[n,r],i&&(Array.isArray(i)?b.push(...i):z(i)&&f?b.push(...i.split(f)):b.push(i)));const O=jn(this.data,b);return!O&&!r&&!i&&n.indexOf(".")>-1&&(n=b[0],r=b[1],i=b.slice(2).join(".")),O||!p||!z(i)?O:Er(this.data&&this.data[n]&&this.data[n][r],i,f)}addResource(n,r,i,c){let f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const p=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator;let b=[n,r];i&&(b=b.concat(p?i.split(p):i)),n.indexOf(".")>-1&&(b=n.split("."),c=r,r=b[1]),this.addNamespaces(r),va(this.data,b,c),f.silent||this.emit("added",n,r,i,c)}addResources(n,r,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const f in i)(z(i[f])||Array.isArray(i[f]))&&this.addResource(n,r,f,i[f],{silent:!0});c.silent||this.emit("added",n,r,i)}addResourceBundle(n,r,i,c,f){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},b=[n,r];n.indexOf(".")>-1&&(b=n.split("."),c=i,i=r,r=b[1]),this.addNamespaces(r);let O=jn(this.data,b)||{};p.skipCopy||(i=JSON.parse(JSON.stringify(i))),c?Ka(O,i,f):O={...O,...i},va(this.data,b,O),p.silent||this.emit("added",n,r,i)}removeResourceBundle(n,r){this.hasResourceBundle(n,r)&&delete this.data[n][r],this.removeNamespaces(r),this.emit("removed",n,r)}hasResourceBundle(n,r){return this.getResource(n,r)!==void 0}getResourceBundle(n,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,r)}:this.getResource(n,r)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const r=this.getDataByLanguage(n);return!!(r&&Object.keys(r)||[]).find(c=>r[c]&&Object.keys(r[c]).length>0)}toJSON(){return this.data}}var Fa={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,n,r,i,c){return o.forEach(f=>{this.processors[f]&&(n=this.processors[f].process(n,r,i,c))}),n}};const wa={};class In extends Nn{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ni(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Be.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const i=this.resolve(n,r);return i&&i.res!==void 0}extractFromKey(n,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const c=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let f=r.ns||this.options.defaultNS||[];const p=i&&n.indexOf(i)>-1,b=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!zi(n,i,c);if(p&&!b){const O=n.match(this.interpolator.nestingRegexp);if(O&&O.length>0)return{key:n,namespaces:z(f)?[f]:f};const C=n.split(i);(i!==c||i===c&&this.options.ns.indexOf(C[0])>-1)&&(f=C.shift()),n=C.join(c)}return{key:n,namespaces:z(f)?[f]:f}}translate(n,r,i){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const c=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,f=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:p,namespaces:b}=this.extractFromKey(n[n.length-1],r),O=b[b.length-1],C=r.lng||this.language,A=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(C&&C.toLowerCase()==="cimode"){if(A){const ue=r.nsSeparator||this.options.nsSeparator;return c?{res:`${O}${ue}${p}`,usedKey:p,exactUsedKey:p,usedLng:C,usedNS:O,usedParams:this.getUsedParamsDetails(r)}:`${O}${ue}${p}`}return c?{res:p,usedKey:p,exactUsedKey:p,usedLng:C,usedNS:O,usedParams:this.getUsedParamsDetails(r)}:p}const R=this.resolve(n,r);let D=R&&R.res;const V=R&&R.usedKey||p,q=R&&R.exactUsedKey||p,Y=Object.prototype.toString.apply(D),ae=["[object Number]","[object Function]","[object RegExp]"],De=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,ge=!this.i18nFormat||this.i18nFormat.handleAsObject,ze=!z(D)&&typeof D!="boolean"&&typeof D!="number";if(ge&&D&&ze&&ae.indexOf(Y)<0&&!(z(De)&&Array.isArray(D))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(V,D,{...r,ns:b}):`key '${p} (${this.language})' returned an object instead of string.`;return c?(R.res=ue,R.usedParams=this.getUsedParamsDetails(r),R):ue}if(f){const ue=Array.isArray(D),ke=ue?[]:{},de=ue?q:V;for(const ie in D)if(Object.prototype.hasOwnProperty.call(D,ie)){const rt=`${de}${f}${ie}`;ke[ie]=this.translate(rt,{...r,joinArrays:!1,ns:b}),ke[ie]===rt&&(ke[ie]=D[ie])}D=ke}}else if(ge&&z(De)&&Array.isArray(D))D=D.join(De),D&&(D=this.extendTranslation(D,n,r,i));else{let ue=!1,ke=!1;const de=r.count!==void 0&&!z(r.count),ie=In.hasDefaultValue(r),rt=de?this.pluralResolver.getSuffix(C,r.count,r):"",Fn=r.ordinal&&de?this.pluralResolver.getSuffix(C,r.count,{ordinal:!1}):"",At=de&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),Ye=At&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${rt}`]||r[`defaultValue${Fn}`]||r.defaultValue;!this.isValidLookup(D)&&ie&&(ue=!0,D=Ye),this.isValidLookup(D)||(ke=!0,D=p);const qe=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ke?void 0:D,at=ie&&Ye!==D&&this.options.updateMissing;if(ke||ue||at){if(this.logger.log(at?"updateKey":"missingKey",C,O,p,at?Ye:D),f){const he=this.resolve(p,{...r,keySeparator:!1});he&&he.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $e=[];const He=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&He&&He[0])for(let he=0;he<He.length;he++)$e.push(He[he]);else this.options.saveMissingTo==="all"?$e=this.languageUtils.toResolveHierarchy(r.lng||this.language):$e.push(r.lng||this.language);const Zt=(he,Ae,Me)=>{const vt=ie&&Me!==D?Me:qe;this.options.missingKeyHandler?this.options.missingKeyHandler(he,O,Ae,vt,at,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(he,O,Ae,vt,at,r),this.emit("missingKey",he,O,Ae,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&de?$e.forEach(he=>{const Ae=this.pluralResolver.getSuffixes(he,r);At&&r[`defaultValue${this.options.pluralSeparator}zero`]&&Ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ae.push(`${this.options.pluralSeparator}zero`),Ae.forEach(Me=>{Zt([he],p+Me,r[`defaultValue${Me}`]||Ye)})}):Zt($e,p,Ye))}D=this.extendTranslation(D,n,r,R,i),ke&&D===p&&this.options.appendNamespaceToMissingKey&&(D=`${O}:${p}`),(ke||ue)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${O}:${p}`:p,ue?D:void 0):D=this.options.parseMissingKeyHandler(D))}return c?(R.res=D,R.usedParams=this.getUsedParamsDetails(r),R):D}extendTranslation(n,r,i,c,f){var p=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const C=z(n)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let A;if(C){const D=n.match(this.interpolator.nestingRegexp);A=D&&D.length}let R=i.replace&&!z(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(R={...this.options.interpolation.defaultVariables,...R}),n=this.interpolator.interpolate(n,R,i.lng||this.language||c.usedLng,i),C){const D=n.match(this.interpolator.nestingRegexp),V=D&&D.length;A<V&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&c&&c.res&&(i.lng=this.language||c.usedLng),i.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var D=arguments.length,V=new Array(D),q=0;q<D;q++)V[q]=arguments[q];return f&&f[0]===V[0]&&!i.context?(p.logger.warn(`It seems you are nesting recursively key: ${V[0]} in key: ${r[0]}`),null):p.translate(...V,r)},i)),i.interpolation&&this.interpolator.reset()}const b=i.postProcess||this.options.postProcess,O=z(b)?[b]:b;return n!=null&&O&&O.length&&i.applyPostProcessor!==!1&&(n=Fa.handle(O,n,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),n}resolve(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,c,f,p,b;return z(n)&&(n=[n]),n.forEach(O=>{if(this.isValidLookup(i))return;const C=this.extractFromKey(O,r),A=C.key;c=A;let R=C.namespaces;this.options.fallbackNS&&(R=R.concat(this.options.fallbackNS));const D=r.count!==void 0&&!z(r.count),V=D&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),q=r.context!==void 0&&(z(r.context)||typeof r.context=="number")&&r.context!=="",Y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);R.forEach(ae=>{this.isValidLookup(i)||(b=ae,!wa[`${Y[0]}-${ae}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(b)&&(wa[`${Y[0]}-${ae}`]=!0,this.logger.warn(`key "${c}" for languages "${Y.join(", ")}" won't get resolved as namespace "${b}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Y.forEach(De=>{if(this.isValidLookup(i))return;p=De;const ge=[A];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(ge,A,De,ae,r);else{let ue;D&&(ue=this.pluralResolver.getSuffix(De,r.count,r));const ke=`${this.options.pluralSeparator}zero`,de=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(D&&(ge.push(A+ue),r.ordinal&&ue.indexOf(de)===0&&ge.push(A+ue.replace(de,this.options.pluralSeparator)),V&&ge.push(A+ke)),q){const ie=`${A}${this.options.contextSeparator}${r.context}`;ge.push(ie),D&&(ge.push(ie+ue),r.ordinal&&ue.indexOf(de)===0&&ge.push(ie+ue.replace(de,this.options.pluralSeparator)),V&&ge.push(ie+ke))}}let ze;for(;ze=ge.pop();)this.isValidLookup(i)||(f=ze,i=this.getResource(De,ae,ze,r))}))})}),{res:i,usedKey:c,exactUsedKey:f,usedLng:p,usedNS:b}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,r,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,r,i,c):this.resourceStore.getResource(n,r,i,c)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=n.replace&&!z(n.replace);let c=i?n.replace:n;if(i&&typeof n.count<"u"&&(c.count=n.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!i){c={...c};for(const f of r)delete c[f]}return c}static hasDefaultValue(n){const r="defaultValue";for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&r===i.substring(0,r.length)&&n[i]!==void 0)return!0;return!1}}const kr=o=>o.charAt(0).toUpperCase()+o.slice(1);class xa{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Be.create("languageUtils")}getScriptPartFromCode(n){if(n=An(n),!n||n.indexOf("-")<0)return null;const r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(n){if(n=An(n),!n||n.indexOf("-")<0)return n;const r=n.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(n){if(z(n)&&n.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let c=Intl.getCanonicalLocales(n)[0];if(c&&this.options.lowerCaseLng&&(c=c.toLowerCase()),c)return c}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let i=n.split("-");return this.options.lowerCaseLng?i=i.map(c=>c.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=kr(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=kr(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=kr(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let r;return n.forEach(i=>{if(r)return;const c=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(c))&&(r=c)}),!r&&this.options.supportedLngs&&n.forEach(i=>{if(r)return;const c=this.getLanguagePartFromCode(i);if(this.isSupportedCode(c))return r=c;r=this.options.supportedLngs.find(f=>{if(f===c)return f;if(!(f.indexOf("-")<0&&c.indexOf("-")<0)&&(f.indexOf("-")>0&&c.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===c||f.indexOf(c)===0&&c.length>1))return f})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),z(n)&&(n=[n]),Array.isArray(n))return n;if(!r)return n.default||[];let i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}toResolveHierarchy(n,r){const i=this.getFallbackCodes(r||this.options.fallbackLng||[],n),c=[],f=p=>{p&&(this.isSupportedCode(p)?c.push(p):this.logger.warn(`rejecting language code not found in supportedLngs: ${p}`))};return z(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&f(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&f(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&f(this.getLanguagePartFromCode(n))):z(n)&&f(this.formatLanguageCode(n)),i.forEach(p=>{c.indexOf(p)<0&&f(this.formatLanguageCode(p))}),c}}let Hi=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qi={1:o=>+(o>1),2:o=>+(o!=1),3:o=>0,4:o=>o%10==1&&o%100!=11?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2,5:o=>o==0?0:o==1?1:o==2?2:o%100>=3&&o%100<=10?3:o%100>=11?4:5,6:o=>o==1?0:o>=2&&o<=4?1:2,7:o=>o==1?0:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?1:2,8:o=>o==1?0:o==2?1:o!=8&&o!=11?2:3,9:o=>+(o>=2),10:o=>o==1?0:o==2?1:o<7?2:o<11?3:4,11:o=>o==1||o==11?0:o==2||o==12?1:o>2&&o<20?2:3,12:o=>+(o%10!=1||o%100==11),13:o=>+(o!==0),14:o=>o==1?0:o==2?1:o==3?2:3,15:o=>o%10==1&&o%100!=11?0:o%10>=2&&(o%100<10||o%100>=20)?1:2,16:o=>o%10==1&&o%100!=11?0:o!==0?1:2,17:o=>o==1||o%10==1&&o%100!=11?0:1,18:o=>o==0?0:o==1?1:2,19:o=>o==1?0:o==0||o%100>1&&o%100<11?1:o%100>10&&o%100<20?2:3,20:o=>o==1?0:o==0||o%100>0&&o%100<20?1:2,21:o=>o%100==1?1:o%100==2?2:o%100==3||o%100==4?3:0,22:o=>o==1?0:o==2?1:(o<0||o>10)&&o%10==0?2:3};const Gi=["v1","v2","v3"],Ji=["v4"],ka={zero:0,one:1,two:2,few:3,many:4,other:5},Xi=()=>{const o={};return Hi.forEach(n=>{n.lngs.forEach(r=>{o[r]={numbers:n.nr,plurals:Qi[n.fc]}})}),o};class Zi{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=r,this.logger=Be.create("pluralResolver"),(!this.options.compatibilityJSON||Ji.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xi(),this.pluralRulesCache={}}addRule(n,r){this.rules[n]=r}clearCache(){this.pluralRulesCache={}}getRule(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=An(n==="dev"?"en":n),c=r.ordinal?"ordinal":"cardinal",f=JSON.stringify({cleanedCode:i,type:c});if(f in this.pluralRulesCache)return this.pluralRulesCache[f];let p;try{p=new Intl.PluralRules(i,{type:c})}catch{if(!n.match(/-|_/))return;const O=this.languageUtils.getLanguagePartFromCode(n);p=this.getRule(O,r)}return this.pluralRulesCache[f]=p,p}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(c=>`${r}${c}`)}getSuffixes(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(n,r);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((c,f)=>ka[c]-ka[f]).map(c=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${c}`):i.numbers.map(c=>this.getSuffix(n,c,r)):[]}getSuffix(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const c=this.getRule(n,i);return c?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c.select(r)}`:this.getSuffixRetroCompatible(c,r):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,r){const i=n.noAbs?n.plurals(r):n.plurals(Math.abs(r));let c=n.numbers[i];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(c===2?c="plural":c===1&&(c=""));const f=()=>this.options.prepend&&c.toString()?this.options.prepend+c.toString():c.toString();return this.options.compatibilityJSON==="v1"?c===1?"":typeof c=="number"?`_plural_${c.toString()}`:f():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?f():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!Gi.includes(this.options.compatibilityJSON)}}const _a=function(o,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,f=Bi(o,n,r);return!f&&c&&z(r)&&(f=Er(o,r,i),f===void 0&&(f=Er(n,r,i))),f},_r=o=>o.replace(/\$/g,"$$$$");class es{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Be.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(r=>r),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const{escape:r,escapeValue:i,useRawValueToEscape:c,prefix:f,prefixEscaped:p,suffix:b,suffixEscaped:O,formatSeparator:C,unescapeSuffix:A,unescapePrefix:R,nestingPrefix:D,nestingPrefixEscaped:V,nestingSuffix:q,nestingSuffixEscaped:Y,nestingOptionsSeparator:ae,maxReplaces:De,alwaysFormat:ge}=n.interpolation;this.escape=r!==void 0?r:$i,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=f?Dt(f):p||"{{",this.suffix=b?Dt(b):O||"}}",this.formatSeparator=C||",",this.unescapePrefix=A?"":R||"-",this.unescapeSuffix=this.unescapePrefix?"":A||"",this.nestingPrefix=D?Dt(D):V||Dt("$t("),this.nestingSuffix=q?Dt(q):Y||Dt(")"),this.nestingOptionsSeparator=ae||",",this.maxReplaces=De||1e3,this.alwaysFormat=ge!==void 0?ge:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(r,i)=>r&&r.source===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,r,i,c){let f,p,b;const O=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},C=V=>{if(V.indexOf(this.formatSeparator)<0){const De=_a(r,O,V,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(De,void 0,i,{...c,...r,interpolationkey:V}):De}const q=V.split(this.formatSeparator),Y=q.shift().trim(),ae=q.join(this.formatSeparator).trim();return this.format(_a(r,O,Y,this.options.keySeparator,this.options.ignoreJSONStructure),ae,i,{...c,...r,interpolationkey:Y})};this.resetRegExp();const A=c&&c.missingInterpolationHandler||this.options.missingInterpolationHandler,R=c&&c.interpolation&&c.interpolation.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:V=>_r(V)},{regex:this.regexp,safeValue:V=>this.escapeValue?_r(this.escape(V)):_r(V)}].forEach(V=>{for(b=0;f=V.regex.exec(n);){const q=f[1].trim();if(p=C(q),p===void 0)if(typeof A=="function"){const ae=A(n,f,c);p=z(ae)?ae:""}else if(c&&Object.prototype.hasOwnProperty.call(c,q))p="";else if(R){p=f[0];continue}else this.logger.warn(`missed to pass in variable ${q} for interpolating ${n}`),p="";else!z(p)&&!this.useRawValueToEscape&&(p=ma(p));const Y=V.safeValue(p);if(n=n.replace(f[0],Y),R?(V.regex.lastIndex+=p.length,V.regex.lastIndex-=f[0].length):V.regex.lastIndex=0,b++,b>=this.maxReplaces)break}}),n}nest(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c,f,p;const b=(O,C)=>{const A=this.nestingOptionsSeparator;if(O.indexOf(A)<0)return O;const R=O.split(new RegExp(`${A}[ ]*{`));let D=`{${R[1]}`;O=R[0],D=this.interpolate(D,p);const V=D.match(/'/g),q=D.match(/"/g);(V&&V.length%2===0&&!q||q.length%2!==0)&&(D=D.replace(/'/g,'"'));try{p=JSON.parse(D),C&&(p={...C,...p})}catch(Y){return this.logger.warn(`failed parsing options string in nesting for key ${O}`,Y),`${O}${A}${D}`}return p.defaultValue&&p.defaultValue.indexOf(this.prefix)>-1&&delete p.defaultValue,O};for(;c=this.nestingRegexp.exec(n);){let O=[];p={...i},p=p.replace&&!z(p.replace)?p.replace:p,p.applyPostProcessor=!1,delete p.defaultValue;let C=!1;if(c[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(c[1])){const A=c[1].split(this.formatSeparator).map(R=>R.trim());c[1]=A.shift(),O=A,C=!0}if(f=r(b.call(this,c[1].trim(),p),p),f&&c[0]===n&&!z(f))return f;z(f)||(f=ma(f)),f||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${n}`),f=""),C&&(f=O.reduce((A,R)=>this.format(A,R,i.lng,{...i,interpolationkey:c[1].trim()}),f.trim())),n=n.replace(c[0],f),this.regexp.lastIndex=0}return n}}const ts=o=>{let n=o.toLowerCase().trim();const r={};if(o.indexOf("(")>-1){const i=o.split("(");n=i[0].toLowerCase().trim();const c=i[1].substring(0,i[1].length-1);n==="currency"&&c.indexOf(":")<0?r.currency||(r.currency=c.trim()):n==="relativetime"&&c.indexOf(":")<0?r.range||(r.range=c.trim()):c.split(";").forEach(p=>{if(p){const[b,...O]=p.split(":"),C=O.join(":").trim().replace(/^'+|'+$/g,""),A=b.trim();r[A]||(r[A]=C),C==="false"&&(r[A]=!1),C==="true"&&(r[A]=!0),isNaN(C)||(r[A]=parseInt(C,10))}})}return{formatName:n,formatOptions:r}},Mt=o=>{const n={};return(r,i,c)=>{let f=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(f={...f,[c.interpolationkey]:void 0});const p=i+JSON.stringify(f);let b=n[p];return b||(b=o(An(i),c),n[p]=b),b(r)}};class ns{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Be.create("formatter"),this.options=n,this.formats={number:Mt((r,i)=>{const c=new Intl.NumberFormat(r,{...i});return f=>c.format(f)}),currency:Mt((r,i)=>{const c=new Intl.NumberFormat(r,{...i,style:"currency"});return f=>c.format(f)}),datetime:Mt((r,i)=>{const c=new Intl.DateTimeFormat(r,{...i});return f=>c.format(f)}),relativetime:Mt((r,i)=>{const c=new Intl.RelativeTimeFormat(r,{...i});return f=>c.format(f,i.range||"day")}),list:Mt((r,i)=>{const c=new Intl.ListFormat(r,{...i});return f=>c.format(f)})},this.init(n)}init(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(n,r){this.formats[n.toLowerCase().trim()]=r}addCached(n,r){this.formats[n.toLowerCase().trim()]=Mt(r)}format(n,r,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const f=r.split(this.formatSeparator);if(f.length>1&&f[0].indexOf("(")>1&&f[0].indexOf(")")<0&&f.find(b=>b.indexOf(")")>-1)){const b=f.findIndex(O=>O.indexOf(")")>-1);f[0]=[f[0],...f.splice(1,b)].join(this.formatSeparator)}return f.reduce((b,O)=>{const{formatName:C,formatOptions:A}=ts(O);if(this.formats[C]){let R=b;try{const D=c&&c.formatParams&&c.formatParams[c.interpolationkey]||{},V=D.locale||D.lng||c.locale||c.lng||i;R=this.formats[C](b,V,{...A,...c,...D})}catch(D){this.logger.warn(D)}return R}else this.logger.warn(`there was no format function for ${C}`);return b},n)}}const rs=(o,n)=>{o.pending[n]!==void 0&&(delete o.pending[n],o.pendingCount--)};class as extends Nn{constructor(n,r,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=c,this.logger=Be.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,c.backend,c)}queueLoad(n,r,i,c){const f={},p={},b={},O={};return n.forEach(C=>{let A=!0;r.forEach(R=>{const D=`${C}|${R}`;!i.reload&&this.store.hasResourceBundle(C,R)?this.state[D]=2:this.state[D]<0||(this.state[D]===1?p[D]===void 0&&(p[D]=!0):(this.state[D]=1,A=!1,p[D]===void 0&&(p[D]=!0),f[D]===void 0&&(f[D]=!0),O[R]===void 0&&(O[R]=!0)))}),A||(b[C]=!0)}),(Object.keys(f).length||Object.keys(p).length)&&this.queue.push({pending:p,pendingCount:Object.keys(p).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(f),pending:Object.keys(p),toLoadLanguages:Object.keys(b),toLoadNamespaces:Object.keys(O)}}loaded(n,r,i){const c=n.split("|"),f=c[0],p=c[1];r&&this.emit("failedLoading",f,p,r),!r&&i&&this.store.addResourceBundle(f,p,i,void 0,void 0,{skipCopy:!0}),this.state[n]=r?-1:2,r&&i&&(this.state[n]=0);const b={};this.queue.forEach(O=>{Fi(O.loaded,[f],p),rs(O,n),r&&O.errors.push(r),O.pendingCount===0&&!O.done&&(Object.keys(O.loaded).forEach(C=>{b[C]||(b[C]={});const A=O.loaded[C];A.length&&A.forEach(R=>{b[C][R]===void 0&&(b[C][R]=!0)})}),O.done=!0,O.errors.length?O.callback(O.errors):O.callback())}),this.emit("loaded",b),this.queue=this.queue.filter(O=>!O.done)}read(n,r,i){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,p=arguments.length>5?arguments[5]:void 0;if(!n.length)return p(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:r,fcName:i,tried:c,wait:f,callback:p});return}this.readingCalls++;const b=(C,A)=>{if(this.readingCalls--,this.waitingReads.length>0){const R=this.waitingReads.shift();this.read(R.lng,R.ns,R.fcName,R.tried,R.wait,R.callback)}if(C&&A&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,n,r,i,c+1,f*2,p)},f);return}p(C,A)},O=this.backend[i].bind(this.backend);if(O.length===2){try{const C=O(n,r);C&&typeof C.then=="function"?C.then(A=>b(null,A)).catch(b):b(null,C)}catch(C){b(C)}return}return O(n,r,b)}prepareLoading(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();z(n)&&(n=this.languageUtils.toResolveHierarchy(n)),z(r)&&(r=[r]);const f=this.queueLoad(n,r,i,c);if(!f.toLoad.length)return f.pending.length||c(),null;f.toLoad.forEach(p=>{this.loadOne(p)})}load(n,r,i){this.prepareLoading(n,r,{},i)}reload(n,r,i){this.prepareLoading(n,r,{reload:!0},i)}loadOne(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=n.split("|"),c=i[0],f=i[1];this.read(c,f,"read",void 0,void 0,(p,b)=>{p&&this.logger.warn(`${r}loading namespace ${f} for language ${c} failed`,p),!p&&b&&this.logger.log(`${r}loaded namespace ${f} for language ${c}`,b),this.loaded(n,p,b)})}saveMissing(n,r,i,c,f){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},b=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const O={...p,isUpdate:f},C=this.backend.create.bind(this.backend);if(C.length<6)try{let A;C.length===5?A=C(n,r,i,c,O):A=C(n,r,i,c),A&&typeof A.then=="function"?A.then(R=>b(null,R)).catch(b):b(null,A)}catch(A){b(A)}else C(n,r,i,c,b,O)}!n||!n[0]||this.store.addResource(n[0],r,i,c)}}}const Oa=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let n={};if(typeof o[1]=="object"&&(n=o[1]),z(o[1])&&(n.defaultValue=o[1]),z(o[2])&&(n.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const r=o[3]||o[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Sa=o=>(z(o.ns)&&(o.ns=[o.ns]),z(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),z(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs&&o.supportedLngs.indexOf("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),o),Dn=()=>{},is=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(r=>{typeof o[r]=="function"&&(o[r]=o[r].bind(o))})};class Jt extends Nn{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Sa(n),this.services={},this.logger=Be,this.modules={external:[]},is(this),r&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,r),this;setTimeout(()=>{this.init(n,r)},0)}}init(){var n=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(i=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(z(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const c=Oa();this.options={...c,...this.options,...Sa(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...c.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const f=A=>A?typeof A=="function"?new A:A:null;if(!this.options.isClone){this.modules.logger?Be.init(f(this.modules.logger),this.options):Be.init(null,this.options);let A;this.modules.formatter?A=this.modules.formatter:typeof Intl<"u"&&(A=ns);const R=new xa(this.options);this.store=new ba(this.options.resources,this.options);const D=this.services;D.logger=Be,D.resourceStore=this.store,D.languageUtils=R,D.pluralResolver=new Zi(R,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),A&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(D.formatter=f(A),D.formatter.init(D,this.options),this.options.interpolation.format=D.formatter.format.bind(D.formatter)),D.interpolator=new es(this.options),D.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},D.backendConnector=new as(f(this.modules.backend),D.resourceStore,D,this.options),D.backendConnector.on("*",function(V){for(var q=arguments.length,Y=new Array(q>1?q-1:0),ae=1;ae<q;ae++)Y[ae-1]=arguments[ae];n.emit(V,...Y)}),this.modules.languageDetector&&(D.languageDetector=f(this.modules.languageDetector),D.languageDetector.init&&D.languageDetector.init(D,this.options.detection,this.options)),this.modules.i18nFormat&&(D.i18nFormat=f(this.modules.i18nFormat),D.i18nFormat.init&&D.i18nFormat.init(this)),this.translator=new In(this.services,this.options),this.translator.on("*",function(V){for(var q=arguments.length,Y=new Array(q>1?q-1:0),ae=1;ae<q;ae++)Y[ae-1]=arguments[ae];n.emit(V,...Y)}),this.modules.external.forEach(V=>{V.init&&V.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Dn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const A=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);A.length>0&&A[0]!=="dev"&&(this.options.lng=A[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(A=>{this[A]=function(){return n.store[A](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(A=>{this[A]=function(){return n.store[A](...arguments),n}});const O=Yt(),C=()=>{const A=(R,D)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),O.resolve(D),i(R,D)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return A(null,this.t.bind(this));this.changeLanguage(this.options.lng,A)};return this.options.resources||!this.options.initImmediate?C():setTimeout(C,0),O}loadResources(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dn;const c=z(n)?n:this.language;if(typeof n=="function"&&(i=n),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const f=[],p=b=>{if(!b||b==="cimode")return;this.services.languageUtils.toResolveHierarchy(b).forEach(C=>{C!=="cimode"&&f.indexOf(C)<0&&f.push(C)})};c?p(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(O=>p(O)),this.options.preload&&this.options.preload.forEach(b=>p(b)),this.services.backendConnector.load(f,this.options.ns,b=>{!b&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(b)})}else i(null)}reloadResources(n,r,i){const c=Yt();return typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=void 0),n||(n=this.languages),r||(r=this.options.ns),i||(i=Dn),this.services.backendConnector.reload(n,r,f=>{c.resolve(),i(f)}),c}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Fa.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(n,r){var i=this;this.isLanguageChangingTo=n;const c=Yt();this.emit("languageChanging",n);const f=O=>{this.language=O,this.languages=this.services.languageUtils.toResolveHierarchy(O),this.resolvedLanguage=void 0,this.setResolvedLanguage(O)},p=(O,C)=>{C?(f(C),this.translator.changeLanguage(C),this.isLanguageChangingTo=void 0,this.emit("languageChanged",C),this.logger.log("languageChanged",C)):this.isLanguageChangingTo=void 0,c.resolve(function(){return i.t(...arguments)}),r&&r(O,function(){return i.t(...arguments)})},b=O=>{!n&&!O&&this.services.languageDetector&&(O=[]);const C=z(O)?O:this.services.languageUtils.getBestMatchFromCodes(O);C&&(this.language||f(C),this.translator.language||this.translator.changeLanguage(C),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(C)),this.loadResources(C,A=>{p(A,C)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?b(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(b):this.services.languageDetector.detect(b):b(n),c}getFixedT(n,r,i){var c=this;const f=function(p,b){let O;if(typeof b!="object"){for(var C=arguments.length,A=new Array(C>2?C-2:0),R=2;R<C;R++)A[R-2]=arguments[R];O=c.options.overloadTranslationOptionHandler([p,b].concat(A))}else O={...b};O.lng=O.lng||f.lng,O.lngs=O.lngs||f.lngs,O.ns=O.ns||f.ns,O.keyPrefix!==""&&(O.keyPrefix=O.keyPrefix||i||f.keyPrefix);const D=c.options.keySeparator||".";let V;return O.keyPrefix&&Array.isArray(p)?V=p.map(q=>`${O.keyPrefix}${D}${q}`):V=O.keyPrefix?`${O.keyPrefix}${D}${p}`:p,c.t(V,O)};return z(n)?f.lng=n:f.lngs=n,f.ns=r,f.keyPrefix=i,f}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const p=(b,O)=>{const C=this.services.backendConnector.state[`${b}|${O}`];return C===-1||C===0||C===2};if(r.precheck){const b=r.precheck(this,p);if(b!==void 0)return b}return!!(this.hasResourceBundle(i,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||p(i,n)&&(!c||p(f,n)))}loadNamespaces(n,r){const i=Yt();return this.options.ns?(z(n)&&(n=[n]),n.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{i.resolve(),r&&r(c)}),i):(r&&r(),Promise.resolve())}loadLanguages(n,r){const i=Yt();z(n)&&(n=[n]);const c=this.options.preload||[],f=n.filter(p=>c.indexOf(p)<0&&this.services.languageUtils.isSupportedCode(p));return f.length?(this.options.preload=c.concat(f),this.loadResources(p=>{i.resolve(),r&&r(p)}),i):(r&&r(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new xa(Oa());return r.indexOf(i.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Jt(n,r)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dn;const i=n.forkResourceStore;i&&delete n.forkResourceStore;const c={...this.options,...n,isClone:!0},f=new Jt(c);return(n.debug!==void 0||n.prefix!==void 0)&&(f.logger=f.logger.clone(n)),["store","services","language"].forEach(b=>{f[b]=this[b]}),f.services={...this.services},f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},i&&(f.store=new ba(this.store.data,c),f.services.resourceStore=f.store),f.translator=new In(f.services,c),f.translator.on("*",function(b){for(var O=arguments.length,C=new Array(O>1?O-1:0),A=1;A<O;A++)C[A-1]=arguments[A];f.emit(b,...C)}),f.init(c,r),f.translator.options=c,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ce=Jt.createInstance();Ce.createInstance=Jt.createInstance;Ce.createInstance;Ce.dir;Ce.init;Ce.loadResources;Ce.reloadResources;Ce.use;Ce.changeLanguage;Ce.getFixedT;Ce.t;Ce.exists;Ce.setDefaultNamespace;Ce.hasLoadedNamespace;Ce.loadNamespaces;Ce.loadLanguages;const ss=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,os={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},us=o=>os[o],cs=o=>o.replace(ss,us);let Pa={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cs};function ls(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pa={...Pa,...o}}const fs={type:"3rdParty",init(o){ls(o.options.react)}},ds={es:{translation:{app:{title:"ub-notion",dashboard:"Panel",projects:"Proyectos",tasks:"Tareas",sprints:"Sprints",studies:"Estudios",content:"Contenido",calendar:"Calendario",search:"Buscar..."},views:{list:"Lista",board:"Tablero",timeline:"Cronograma",calendar:"Calendario",gallery:"Galería",rice:"RICE"}}}};Ce.use(fs).init({resources:ds,lng:"es",fallbackLng:"es",interpolation:{escapeValue:!1}});const Ba=new Pi({defaultOptions:{queries:{staleTime:1e3*30}}});if(typeof window<"u"){const o=Ci({storage:window.localStorage});Ei({queryClient:Ba,persister:o,maxAge:1e3*60*60})}function hs(){const o=localStorage.getItem("theme"),n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,r=o?o==="dark":n;document.documentElement.classList.toggle("dark",r)}function hu(){const o=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",o?"dark":"light")}const qa=6048e5,ps=864e5,pu=6e4,mu=36e5,Ea=Symbol.for("constructDateFrom");function Ue(o,n){return typeof o=="function"?o(n):o&&typeof o=="object"&&Ea in o?o[Ea](n):o instanceof Date?new o.constructor(n):new Date(n)}function Te(o,n){return Ue(n||o,o)}function Z(o,n,r){const i=Te(o,r==null?void 0:r.in);return isNaN(n)?Ue(o,NaN):(n&&i.setDate(i.getDate()+n),i)}let ms={};function Kn(){return ms}function Xt(o,n){var b,O,C,A;const r=Kn(),i=(n==null?void 0:n.weekStartsOn)??((O=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:O.weekStartsOn)??r.weekStartsOn??((A=(C=r.locale)==null?void 0:C.options)==null?void 0:A.weekStartsOn)??0,c=Te(o,n==null?void 0:n.in),f=c.getDay(),p=(f<i?7:0)+f-i;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Ln(o,n){return Xt(o,{...n,weekStartsOn:1})}function $a(o,n){const r=Te(o,n==null?void 0:n.in),i=r.getFullYear(),c=Ue(r,0);c.setFullYear(i+1,0,4),c.setHours(0,0,0,0);const f=Ln(c),p=Ue(r,0);p.setFullYear(i,0,4),p.setHours(0,0,0,0);const b=Ln(p);return r.getTime()>=f.getTime()?i+1:r.getTime()>=b.getTime()?i:i-1}function Ca(o){const n=Te(o),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+o-+r}function gs(o,...n){const r=Ue.bind(null,n.find(i=>typeof i=="object"));return n.map(r)}function Da(o,n){const r=Te(o,n==null?void 0:n.in);return r.setHours(0,0,0,0),r}function ys(o,n,r){const[i,c]=gs(r==null?void 0:r.in,o,n),f=Da(i),p=Da(c),b=+f-Ca(f),O=+p-Ca(p);return Math.round((b-O)/ps)}function vs(o,n){const r=$a(o,n),i=Ue(o,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Ln(i)}function bs(o){return o instanceof Date||typeof o=="object"&&Object.prototype.toString.call(o)==="[object Date]"}function ws(o){return!(!bs(o)&&typeof o!="number"||isNaN(+Te(o)))}function xs(o,n){const r=Te(o,n==null?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ks={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_s=(o,n,r)=>{let i;const c=ks[o];return typeof c=="string"?i=c:n===1?i=c.one:i=c.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Or(o){return(n={})=>{const r=n.width?String(n.width):o.defaultWidth;return o.formats[r]||o.formats[o.defaultWidth]}}const Os={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ss={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ps={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Es={date:Or({formats:Os,defaultWidth:"full"}),time:Or({formats:Ss,defaultWidth:"full"}),dateTime:Or({formats:Ps,defaultWidth:"full"})},Cs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ds=(o,n,r,i)=>Cs[o];function Ht(o){return(n,r)=>{const i=r!=null&&r.context?String(r.context):"standalone";let c;if(i==="formatting"&&o.formattingValues){const p=o.defaultFormattingWidth||o.defaultWidth,b=r!=null&&r.width?String(r.width):p;c=o.formattingValues[b]||o.formattingValues[p]}else{const p=o.defaultWidth,b=r!=null&&r.width?String(r.width):o.defaultWidth;c=o.values[b]||o.values[p]}const f=o.argumentCallback?o.argumentCallback(n):n;return c[f]}}const Ms={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},js={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},As={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Is={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ls={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ts=(o,n)=>{const r=Number(o),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ns={ordinalNumber:Ts,era:Ht({values:Ms,defaultWidth:"wide"}),quarter:Ht({values:js,defaultWidth:"wide",argumentCallback:o=>o-1}),month:Ht({values:As,defaultWidth:"wide"}),day:Ht({values:Rs,defaultWidth:"wide"}),dayPeriod:Ht({values:Is,defaultWidth:"wide",formattingValues:Ls,defaultFormattingWidth:"wide"})};function Qt(o){return(n,r={})=>{const i=r.width,c=i&&o.matchPatterns[i]||o.matchPatterns[o.defaultMatchWidth],f=n.match(c);if(!f)return null;const p=f[0],b=i&&o.parsePatterns[i]||o.parsePatterns[o.defaultParseWidth],O=Array.isArray(b)?Fs(b,R=>R.test(p)):Ks(b,R=>R.test(p));let C;C=o.valueCallback?o.valueCallback(O):O,C=r.valueCallback?r.valueCallback(C):C;const A=n.slice(p.length);return{value:C,rest:A}}}function Ks(o,n){for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&n(o[r]))return r}function Fs(o,n){for(let r=0;r<o.length;r++)if(n(o[r]))return r}function Bs(o){return(n,r={})=>{const i=n.match(o.matchPattern);if(!i)return null;const c=i[0],f=n.match(o.parsePattern);if(!f)return null;let p=o.valueCallback?o.valueCallback(f[0]):f[0];p=r.valueCallback?r.valueCallback(p):p;const b=n.slice(c.length);return{value:p,rest:b}}}const qs=/^(\d+)(th|st|nd|rd)?/i,$s=/\d+/i,Vs={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ws={any:[/^b/i,/^(a|c)/i]},Us={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zs={any:[/1/i,/2/i,/3/i,/4/i]},Ys={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qs={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gs={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Js={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xs={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zs={ordinalNumber:Bs({matchPattern:qs,parsePattern:$s,valueCallback:o=>parseInt(o,10)}),era:Qt({matchPatterns:Vs,defaultMatchWidth:"wide",parsePatterns:Ws,defaultParseWidth:"any"}),quarter:Qt({matchPatterns:Us,defaultMatchWidth:"wide",parsePatterns:zs,defaultParseWidth:"any",valueCallback:o=>o+1}),month:Qt({matchPatterns:Ys,defaultMatchWidth:"wide",parsePatterns:Hs,defaultParseWidth:"any"}),day:Qt({matchPatterns:Qs,defaultMatchWidth:"wide",parsePatterns:Gs,defaultParseWidth:"any"}),dayPeriod:Qt({matchPatterns:Js,defaultMatchWidth:"any",parsePatterns:Xs,defaultParseWidth:"any"})},eo={code:"en-US",formatDistance:_s,formatLong:Es,formatRelative:Ds,localize:Ns,match:Zs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function to(o,n){const r=Te(o,n==null?void 0:n.in);return ys(r,xs(r))+1}function no(o,n){const r=Te(o,n==null?void 0:n.in),i=+Ln(r)-+vs(r);return Math.round(i/qa)+1}function Va(o,n){var A,R,D,V;const r=Te(o,n==null?void 0:n.in),i=r.getFullYear(),c=Kn(),f=(n==null?void 0:n.firstWeekContainsDate)??((R=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:R.firstWeekContainsDate)??c.firstWeekContainsDate??((V=(D=c.locale)==null?void 0:D.options)==null?void 0:V.firstWeekContainsDate)??1,p=Ue((n==null?void 0:n.in)||o,0);p.setFullYear(i+1,0,f),p.setHours(0,0,0,0);const b=Xt(p,n),O=Ue((n==null?void 0:n.in)||o,0);O.setFullYear(i,0,f),O.setHours(0,0,0,0);const C=Xt(O,n);return+r>=+b?i+1:+r>=+C?i:i-1}function ro(o,n){var b,O,C,A;const r=Kn(),i=(n==null?void 0:n.firstWeekContainsDate)??((O=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:O.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(C=r.locale)==null?void 0:C.options)==null?void 0:A.firstWeekContainsDate)??1,c=Va(o,n),f=Ue((n==null?void 0:n.in)||o,0);return f.setFullYear(c,0,i),f.setHours(0,0,0,0),Xt(f,n)}function ao(o,n){const r=Te(o,n==null?void 0:n.in),i=+Xt(r,n)-+ro(r,n);return Math.round(i/qa)+1}function se(o,n){const r=o<0?"-":"",i=Math.abs(o).toString().padStart(n,"0");return r+i}const nt={y(o,n){const r=o.getFullYear(),i=r>0?r:1-r;return se(n==="yy"?i%100:i,n.length)},M(o,n){const r=o.getMonth();return n==="M"?String(r+1):se(r+1,2)},d(o,n){return se(o.getDate(),n.length)},a(o,n){const r=o.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(o,n){return se(o.getHours()%12||12,n.length)},H(o,n){return se(o.getHours(),n.length)},m(o,n){return se(o.getMinutes(),n.length)},s(o,n){return se(o.getSeconds(),n.length)},S(o,n){const r=n.length,i=o.getMilliseconds(),c=Math.trunc(i*Math.pow(10,r-3));return se(c,n.length)}},jt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ma={G:function(o,n,r){const i=o.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(o,n,r){if(n==="yo"){const i=o.getFullYear(),c=i>0?i:1-i;return r.ordinalNumber(c,{unit:"year"})}return nt.y(o,n)},Y:function(o,n,r,i){const c=Va(o,i),f=c>0?c:1-c;if(n==="YY"){const p=f%100;return se(p,2)}return n==="Yo"?r.ordinalNumber(f,{unit:"year"}):se(f,n.length)},R:function(o,n){const r=$a(o);return se(r,n.length)},u:function(o,n){const r=o.getFullYear();return se(r,n.length)},Q:function(o,n,r){const i=Math.ceil((o.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return se(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(o,n,r){const i=Math.ceil((o.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return se(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(o,n,r){const i=o.getMonth();switch(n){case"M":case"MM":return nt.M(o,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(o,n,r){const i=o.getMonth();switch(n){case"L":return String(i+1);case"LL":return se(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(o,n,r,i){const c=ao(o,i);return n==="wo"?r.ordinalNumber(c,{unit:"week"}):se(c,n.length)},I:function(o,n,r){const i=no(o);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):se(i,n.length)},d:function(o,n,r){return n==="do"?r.ordinalNumber(o.getDate(),{unit:"date"}):nt.d(o,n)},D:function(o,n,r){const i=to(o);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):se(i,n.length)},E:function(o,n,r){const i=o.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(o,n,r,i){const c=o.getDay(),f=(c-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(f);case"ee":return se(f,2);case"eo":return r.ordinalNumber(f,{unit:"day"});case"eee":return r.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(c,{width:"short",context:"formatting"});case"eeee":default:return r.day(c,{width:"wide",context:"formatting"})}},c:function(o,n,r,i){const c=o.getDay(),f=(c-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(f);case"cc":return se(f,n.length);case"co":return r.ordinalNumber(f,{unit:"day"});case"ccc":return r.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(c,{width:"narrow",context:"standalone"});case"cccccc":return r.day(c,{width:"short",context:"standalone"});case"cccc":default:return r.day(c,{width:"wide",context:"standalone"})}},i:function(o,n,r){const i=o.getDay(),c=i===0?7:i;switch(n){case"i":return String(c);case"ii":return se(c,n.length);case"io":return r.ordinalNumber(c,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(o,n,r){const c=o.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(o,n,r){const i=o.getHours();let c;switch(i===12?c=jt.noon:i===0?c=jt.midnight:c=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(o,n,r){const i=o.getHours();let c;switch(i>=17?c=jt.evening:i>=12?c=jt.afternoon:i>=4?c=jt.morning:c=jt.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(o,n,r){if(n==="ho"){let i=o.getHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return nt.h(o,n)},H:function(o,n,r){return n==="Ho"?r.ordinalNumber(o.getHours(),{unit:"hour"}):nt.H(o,n)},K:function(o,n,r){const i=o.getHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):se(i,n.length)},k:function(o,n,r){let i=o.getHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):se(i,n.length)},m:function(o,n,r){return n==="mo"?r.ordinalNumber(o.getMinutes(),{unit:"minute"}):nt.m(o,n)},s:function(o,n,r){return n==="so"?r.ordinalNumber(o.getSeconds(),{unit:"second"}):nt.s(o,n)},S:function(o,n){return nt.S(o,n)},X:function(o,n,r){const i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return Aa(i);case"XXXX":case"XX":return gt(i);case"XXXXX":case"XXX":default:return gt(i,":")}},x:function(o,n,r){const i=o.getTimezoneOffset();switch(n){case"x":return Aa(i);case"xxxx":case"xx":return gt(i);case"xxxxx":case"xxx":default:return gt(i,":")}},O:function(o,n,r){const i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ja(i,":");case"OOOO":default:return"GMT"+gt(i,":")}},z:function(o,n,r){const i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ja(i,":");case"zzzz":default:return"GMT"+gt(i,":")}},t:function(o,n,r){const i=Math.trunc(+o/1e3);return se(i,n.length)},T:function(o,n,r){return se(+o,n.length)}};function ja(o,n=""){const r=o>0?"-":"+",i=Math.abs(o),c=Math.trunc(i/60),f=i%60;return f===0?r+String(c):r+String(c)+n+se(f,2)}function Aa(o,n){return o%60===0?(o>0?"-":"+")+se(Math.abs(o)/60,2):gt(o,n)}function gt(o,n=""){const r=o>0?"-":"+",i=Math.abs(o),c=se(Math.trunc(i/60),2),f=se(i%60,2);return r+c+n+f}const Ra=(o,n)=>{switch(o){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Wa=(o,n)=>{switch(o){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},io=(o,n)=>{const r=o.match(/(P+)(p+)?/)||[],i=r[1],c=r[2];if(!c)return Ra(o,n);let f;switch(i){case"P":f=n.dateTime({width:"short"});break;case"PP":f=n.dateTime({width:"medium"});break;case"PPP":f=n.dateTime({width:"long"});break;case"PPPP":default:f=n.dateTime({width:"full"});break}return f.replace("{{date}}",Ra(i,n)).replace("{{time}}",Wa(c,n))},so={p:Wa,P:io},oo=/^D+$/,uo=/^Y+$/,co=["D","DD","YY","YYYY"];function lo(o){return oo.test(o)}function fo(o){return uo.test(o)}function ho(o,n,r){const i=po(o,n,r);if(console.warn(i),co.includes(o))throw new RangeError(i)}function po(o,n,r){const i=o[0]==="Y"?"years":"days of the month";return`Use \`${o.toLowerCase()}\` instead of \`${o}\` (in \`${n}\`) for formatting ${i} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mo=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,go=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yo=/^'([^]*?)'?$/,vo=/''/g,bo=/[a-zA-Z]/;function G(o,n,r){var A,R,D,V;const i=Kn(),c=i.locale??eo,f=i.firstWeekContainsDate??((R=(A=i.locale)==null?void 0:A.options)==null?void 0:R.firstWeekContainsDate)??1,p=i.weekStartsOn??((V=(D=i.locale)==null?void 0:D.options)==null?void 0:V.weekStartsOn)??0,b=Te(o,r==null?void 0:r.in);if(!ws(b))throw new RangeError("Invalid time value");let O=n.match(go).map(q=>{const Y=q[0];if(Y==="p"||Y==="P"){const ae=so[Y];return ae(q,c.formatLong)}return q}).join("").match(mo).map(q=>{if(q==="''")return{isToken:!1,value:"'"};const Y=q[0];if(Y==="'")return{isToken:!1,value:wo(q)};if(Ma[Y])return{isToken:!0,value:q};if(Y.match(bo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return{isToken:!1,value:q}});c.localize.preprocessor&&(O=c.localize.preprocessor(b,O));const C={firstWeekContainsDate:f,weekStartsOn:p,locale:c};return O.map(q=>{if(!q.isToken)return q.value;const Y=q.value;(fo(Y)||lo(Y))&&ho(Y,n,String(o));const ae=Ma[Y[0]];return ae(b,Y,c.localize,C)}).join("")}function wo(o){const n=o.match(yo);return n?n[1].replace(vo,"'"):o}var Ua={exports:{}};(function(o,n){(function(r,i){o.exports=i()})(da,function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var u in t=arguments[a])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};function c(e,t,a){for(var s,u=0,l=t.length;u<l;u++)!s&&u in t||((s=s||Array.prototype.slice.call(t,0,u))[u]=t[u]);return e.concat(s||Array.prototype.slice.call(t))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:da,p=Object.keys,b=Array.isArray;function O(e,t){return typeof t!="object"||p(t).forEach(function(a){e[a]=t[a]}),e}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var C=Object.getPrototypeOf,A={}.hasOwnProperty;function R(e,t){return A.call(e,t)}function D(e,t){typeof t=="function"&&(t=t(C(e))),(typeof Reflect>"u"?p:Reflect.ownKeys)(t).forEach(function(a){q(e,a,t[a])})}var V=Object.defineProperty;function q(e,t,a,s){V(e,t,O(a&&R(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},s))}function Y(e){return{from:function(t){return e.prototype=Object.create(t.prototype),q(e.prototype,"constructor",e),{extend:D.bind(null,e.prototype)}}}}var ae=Object.getOwnPropertyDescriptor,De=[].slice;function ge(e,t,a){return De.call(e,t,a)}function ze(e,t){return t(e)}function ue(e){if(!e)throw new Error("Assertion Failed")}function ke(e){f.setImmediate?setImmediate(e):setTimeout(e,0)}function de(e,t){if(typeof t=="string"&&R(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var a=[],s=0,u=t.length;s<u;++s){var l=de(e,t[s]);a.push(l)}return a}var d=t.indexOf(".");if(d!==-1){var h=e[t.substr(0,d)];return h==null?void 0:de(h,t.substr(d+1))}}function ie(e,t,a){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ue(typeof a!="string"&&"length"in a);for(var s=0,u=t.length;s<u;++s)ie(e,t[s],a[s])}else{var l,d,h=t.indexOf(".");h!==-1?(l=t.substr(0,h),(d=t.substr(h+1))===""?a===void 0?b(e)&&!isNaN(parseInt(l))?e.splice(l,1):delete e[l]:e[l]=a:ie(h=!(h=e[l])||!R(e,l)?e[l]={}:h,d,a)):a===void 0?b(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=a}}function rt(e){var t,a={};for(t in e)R(e,t)&&(a[t]=e[t]);return a}var Fn=[].concat;function At(e){return Fn.apply([],e)}var st="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(At([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return f[e]}),Ye=new Set(st.map(function(e){return f[e]})),yt=null;function qe(e){return yt=new WeakMap,e=function t(a){if(!a||typeof a!="object")return a;var s=yt.get(a);if(s)return s;if(b(a)){s=[],yt.set(a,s);for(var u=0,l=a.length;u<l;++u)s.push(t(a[u]))}else if(Ye.has(a.constructor))s=a;else{var d,h=C(a);for(d in s=h===Object.prototype?{}:Object.create(h),yt.set(a,s),a)R(a,d)&&(s[d]=t(a[d]))}return s}(e),yt=null,e}var at={}.toString;function $e(e){return at.call(e).slice(8,-1)}var He=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Zt=typeof He=="symbol"?function(e){var t;return e!=null&&(t=e[He])&&t.apply(e)}:function(){return null};function he(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var Ae={};function Me(e){var t,a,s,u;if(arguments.length===1){if(b(e))return e.slice();if(this===Ae&&typeof e=="string")return[e];if(u=Zt(e)){for(a=[];!(s=u.next()).done;)a.push(s.value);return a}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(a=new Array(t);t--;)a[t]=e[t];return a}for(t=arguments.length,a=new Array(t);t--;)a[t]=arguments[t];return a}var vt=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Lt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Le=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Lt),za={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function bt(e,t){this.name=e,this.message=t}function Dr(e,t){return e+". Errors: "+Object.keys(t).map(function(a){return t[a].toString()}).filter(function(a,s,u){return u.indexOf(a)===s}).join(`
`)}function en(e,t,a,s){this.failures=t,this.failedKeys=s,this.successCount=a,this.message=Dr(e,t)}function wt(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(a){return t[a]}),this.failuresByPos=t,this.message=Dr(e,this.failures)}Y(bt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Y(en).from(bt),Y(wt).from(bt);var Bn=Le.reduce(function(e,t){return e[t]=t+"Error",e},{}),Ya=bt,U=Le.reduce(function(e,t){var a=t+"Error";function s(u,l){this.name=a,u?typeof u=="string"?(this.message="".concat(u).concat(l?`
 `+l:""),this.inner=l||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=za[t]||a,this.inner=null)}return Y(s).from(Ya),e[t]=s,e},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var Mr=Lt.reduce(function(e,t){return e[t+"Error"]=U[t],e},{}),tn=Le.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=U[t]),e},{});function oe(){}function Rt(e){return e}function Ha(e,t){return e==null||e===Rt?t:function(a){return t(e(a))}}function it(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Qa(e,t){return e===oe?t:function(){var a=e.apply(this,arguments);a!==void 0&&(arguments[0]=a);var s=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?it(s,this.onsuccess):s),u&&(this.onerror=this.onerror?it(u,this.onerror):u),l!==void 0?l:a}}function Ga(e,t){return e===oe?t:function(){e.apply(this,arguments);var a=this.onsuccess,s=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?it(a,this.onsuccess):a),s&&(this.onerror=this.onerror?it(s,this.onerror):s)}}function Ja(e,t){return e===oe?t:function(a){var s=e.apply(this,arguments);O(a,s);var u=this.onsuccess,l=this.onerror;return this.onsuccess=null,this.onerror=null,a=t.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?it(u,this.onsuccess):u),l&&(this.onerror=this.onerror?it(l,this.onerror):l),s===void 0?a===void 0?void 0:a:O(s,a)}}function Xa(e,t){return e===oe?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function qn(e,t){return e===oe?t:function(){var a=e.apply(this,arguments);if(a&&typeof a.then=="function"){for(var s=this,u=arguments.length,l=new Array(u);u--;)l[u]=arguments[u];return a.then(function(){return t.apply(s,l)})}return t.apply(this,arguments)}}tn.ModifyError=en,tn.DexieError=bt,tn.BulkError=wt;var Ne=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jr(e){Ne=e}var It={},Ar=100,st=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,C(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,C(t),e]}(),Lt=st[0],Le=st[1],st=st[2],Le=Le&&Le.then,ot=Lt&&Lt.constructor,$n=!!st,Tt=function(e,t){Nt.push([e,t]),nn&&(queueMicrotask(ei),nn=!1)},Vn=!0,nn=!0,ut=[],rn=[],Wn=Rt,Qe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:oe,pgp:!1,env:{},finalize:oe},W=Qe,Nt=[],ct=0,an=[];function B(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=W;if(typeof e!="function"){if(e!==It)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zn(this,this._value))}this._state=null,this._value=null,++t.ref,function a(s,u){try{u(function(l){if(s._state===null){if(l===s)throw new TypeError("A promise cannot be resolved with itself.");var d=s._lib&&xt();l&&typeof l.then=="function"?a(s,function(h,g){l instanceof B?l._then(h,g):l.then(h,g)}):(s._state=!0,s._value=l,Ir(s)),d&&kt()}},zn.bind(null,s))}catch(l){zn(s,l)}}(this,e)}var Un={get:function(){var e=W,t=cn;function a(s,u){var l=this,d=!e.global&&(e!==W||t!==cn),h=d&&!Je(),g=new B(function(y,k){Yn(l,new Rr(Tr(s,e,d,h),Tr(u,e,d,h),y,k,e))});return this._consoleTask&&(g._consoleTask=this._consoleTask),g}return a.prototype=It,a},set:function(e){q(this,"then",e&&e.prototype===It?Un:{get:function(){return e},set:Un.set})}};function Rr(e,t,a,s,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=a,this.reject=s,this.psd=u}function zn(e,t){var a,s;rn.push(t),e._state===null&&(a=e._lib&&xt(),t=Wn(t),e._state=!1,e._value=t,s=e,ut.some(function(u){return u._value===s._value})||ut.push(s),Ir(e),a&&kt())}function Ir(e){var t=e._listeners;e._listeners=[];for(var a=0,s=t.length;a<s;++a)Yn(e,t[a]);var u=e._PSD;--u.ref||u.finalize(),ct===0&&(++ct,Tt(function(){--ct==0&&Hn()},[]))}function Yn(e,t){if(e._state!==null){var a=e._state?t.onFulfilled:t.onRejected;if(a===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ct,Tt(Za,[a,e,t])}else e._listeners.push(t)}function Za(e,t,a){try{var s,u=t._value;!t._state&&rn.length&&(rn=[]),s=Ne&&t._consoleTask?t._consoleTask.run(function(){return e(u)}):e(u),t._state||rn.indexOf(u)!==-1||function(l){for(var d=ut.length;d;)if(ut[--d]._value===l._value)return ut.splice(d,1)}(t),a.resolve(s)}catch(l){a.reject(l)}finally{--ct==0&&Hn(),--a.psd.ref||a.psd.finalize()}}function ei(){lt(Qe,function(){xt()&&kt()})}function xt(){var e=Vn;return nn=Vn=!1,e}function kt(){var e,t,a;do for(;0<Nt.length;)for(e=Nt,Nt=[],a=e.length,t=0;t<a;++t){var s=e[t];s[0].apply(null,s[1])}while(0<Nt.length);nn=Vn=!0}function Hn(){var e=ut;ut=[],e.forEach(function(s){s._PSD.onunhandled.call(null,s._value,s)});for(var t=an.slice(0),a=t.length;a;)t[--a]()}function sn(e){return new B(It,!1,e)}function fe(e,t){var a=W;return function(){var s=xt(),u=W;try{return Xe(a,!0),e.apply(this,arguments)}catch(l){t&&t(l)}finally{Xe(u,!1),s&&kt()}}}D(B.prototype,{then:Un,_then:function(e,t){Yn(this,new Rr(null,null,e,t,W))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,a=arguments[1];return typeof t=="function"?this.then(null,function(s){return(s instanceof t?a:sn)(s)}):this.then(null,function(s){return(s&&s.name===t?a:sn)(s)})},finally:function(e){return this.then(function(t){return B.resolve(e()).then(function(){return t})},function(t){return B.resolve(e()).then(function(){return sn(t)})})},timeout:function(e,t){var a=this;return e<1/0?new B(function(s,u){var l=setTimeout(function(){return u(new U.Timeout(t))},e);a.then(s,u).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&q(B.prototype,Symbol.toStringTag,"Dexie.Promise"),Qe.env=Lr(),D(B,{all:function(){var e=Me.apply(null,arguments).map(ln);return new B(function(t,a){e.length===0&&t([]);var s=e.length;e.forEach(function(u,l){return B.resolve(u).then(function(d){e[l]=d,--s||t(e)},a)})})},resolve:function(e){return e instanceof B?e:e&&typeof e.then=="function"?new B(function(t,a){e.then(t,a)}):new B(It,!0,e)},reject:sn,race:function(){var e=Me.apply(null,arguments).map(ln);return new B(function(t,a){e.map(function(s){return B.resolve(s).then(t,a)})})},PSD:{get:function(){return W},set:function(e){return W=e}},totalEchoes:{get:function(){return cn}},newPSD:Ge,usePSD:lt,scheduler:{get:function(){return Tt},set:function(e){Tt=e}},rejectionMapper:{get:function(){return Wn},set:function(e){Wn=e}},follow:function(e,t){return new B(function(a,s){return Ge(function(u,l){var d=W;d.unhandleds=[],d.onunhandled=l,d.finalize=it(function(){var h,g=this;h=function(){g.unhandleds.length===0?u():l(g.unhandleds[0])},an.push(function y(){h(),an.splice(an.indexOf(y),1)}),++ct,Tt(function(){--ct==0&&Hn()},[])},d.finalize),e()},t,a,s)})}}),ot&&(ot.allSettled&&q(B,"allSettled",function(){var e=Me.apply(null,arguments).map(ln);return new B(function(t){e.length===0&&t([]);var a=e.length,s=new Array(a);e.forEach(function(u,l){return B.resolve(u).then(function(d){return s[l]={status:"fulfilled",value:d}},function(d){return s[l]={status:"rejected",reason:d}}).then(function(){return--a||t(s)})})})}),ot.any&&typeof AggregateError<"u"&&q(B,"any",function(){var e=Me.apply(null,arguments).map(ln);return new B(function(t,a){e.length===0&&a(new AggregateError([]));var s=e.length,u=new Array(s);e.forEach(function(l,d){return B.resolve(l).then(function(h){return t(h)},function(h){u[d]=h,--s||a(new AggregateError(u))})})})}),ot.withResolvers&&(B.withResolvers=ot.withResolvers));var ye={awaits:0,echoes:0,id:0},ti=0,on=[],un=0,cn=0,ni=0;function Ge(e,t,a,s){var u=W,l=Object.create(u);return l.parent=u,l.ref=0,l.global=!1,l.id=++ni,Qe.env,l.env=$n?{Promise:B,PromiseProp:{value:B,configurable:!0,writable:!0},all:B.all,race:B.race,allSettled:B.allSettled,any:B.any,resolve:B.resolve,reject:B.reject}:{},t&&O(l,t),++u.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()},s=lt(l,e,a,s),l.ref===0&&l.finalize(),s}function _t(){return ye.id||(ye.id=++ti),++ye.awaits,ye.echoes+=Ar,ye.id}function Je(){return!!ye.awaits&&(--ye.awaits==0&&(ye.id=0),ye.echoes=ye.awaits*Ar,!0)}function ln(e){return ye.echoes&&e&&e.constructor===ot?(_t(),e.then(function(t){return Je(),t},function(t){return Je(),pe(t)})):e}function ri(){var e=on[on.length-1];on.pop(),Xe(e,!1)}function Xe(e,t){var a,s=W;(t?!ye.echoes||un++&&e===W:!un||--un&&e===W)||queueMicrotask(t?(function(u){++cn,ye.echoes&&--ye.echoes!=0||(ye.echoes=ye.awaits=ye.id=0),on.push(W),Xe(u,!0)}).bind(null,e):ri),e!==W&&(W=e,s===Qe&&(Qe.env=Lr()),$n&&(a=Qe.env.Promise,t=e.env,(s.global||e.global)&&(Object.defineProperty(f,"Promise",t.PromiseProp),a.all=t.all,a.race=t.race,a.resolve=t.resolve,a.reject=t.reject,t.allSettled&&(a.allSettled=t.allSettled),t.any&&(a.any=t.any))))}function Lr(){var e=f.Promise;return $n?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function lt(e,t,a,s,u){var l=W;try{return Xe(e,!0),t(a,s,u)}finally{Xe(l,!1)}}function Tr(e,t,a,s){return typeof e!="function"?e:function(){var u=W;a&&_t(),Xe(t,!0);try{return e.apply(this,arguments)}finally{Xe(u,!1),s&&queueMicrotask(Je)}}}function Qn(e){Promise===ot&&ye.echoes===0?un===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+Le).indexOf("[native code]")===-1&&(_t=Je=oe);var pe=B.reject,ft="￿",Ve="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Nr="String expected.",Ot=[],fn="__dbnames",Gn="readonly",Jn="readwrite";function dt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Kr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function dn(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=qe(t))[e],t}}function Fr(){throw U.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function te(e,t){try{var a=Br(e),s=Br(t);if(a!==s)return a==="Array"?1:s==="Array"?-1:a==="binary"?1:s==="binary"?-1:a==="string"?1:s==="string"?-1:a==="Date"?1:s!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(u,l){for(var d=u.length,h=l.length,g=d<h?d:h,y=0;y<g;++y)if(u[y]!==l[y])return u[y]<l[y]?-1:1;return d===h?0:d<h?-1:1}(qr(e),qr(t));case"Array":return function(u,l){for(var d=u.length,h=l.length,g=d<h?d:h,y=0;y<g;++y){var k=te(u[y],l[y]);if(k!==0)return k}return d===h?0:d<h?-1:1}(e,t)}}catch{}return NaN}function Br(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=$e(e),e==="ArrayBuffer"?"binary":e)}function qr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function hn(e,t,a){var s=e.schema.yProps;return s?(t&&0<a.numFailures&&(t=t.filter(function(u,l){return!a.failures[l]})),Promise.all(s.map(function(u){return u=u.updatesTable,t?e.db.table(u).where("k").anyOf(t).delete():e.db.table(u).clear()})).then(function(){return a})):a}var Kt=($r.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var a=t.add;if(b(a))return c(c([],b(e)?e:[],!0),a).sort();if(typeof a=="number")return(Number(e)||0)+a;if(typeof a=="bigint")try{return BigInt(e)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(t.remove!==void 0){var s=t.remove;if(b(s))return b(e)?e.filter(function(u){return!s.includes(u)}).sort():[];if(typeof s=="number")return Number(e)-s;if(typeof s=="bigint")try{return BigInt(e)-s}catch{return BigInt(0)-s}throw new TypeError("Invalid subtrahend ".concat(s))}return a=(a=t.replacePrefix)===null||a===void 0?void 0:a[0],a&&typeof e=="string"&&e.startsWith(a)?t.replacePrefix[1]+e.substring(a.length):e},$r);function $r(e){this["@@propmod"]=e}function Vr(e,t){for(var a=p(t),s=a.length,u=!1,l=0;l<s;++l){var d=a[l],h=t[d],g=de(e,d);h instanceof Kt?(ie(e,d,h.execute(g)),u=!0):g!==h&&(ie(e,d,h),u=!0)}return u}var Wr=(ce.prototype._trans=function(e,t,a){var s=this._tx||W.trans,u=this.name,l=Ne&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function d(y,k,m){if(!m.schema[u])throw new U.NotFound("Table "+u+" not part of transaction");return t(m.idbtrans,m)}var h=xt();try{var g=s&&s.db._novip===this.db._novip?s===W.trans?s._promise(e,d,a):Ge(function(){return s._promise(e,d,a)},{trans:s,transless:W.transless||W}):function y(k,m,S,v){if(k.idbdb&&(k._state.openComplete||W.letThrough||k._vip)){var w=k._createTransaction(m,S,k._dbSchema);try{w.create(),k._state.PR1398_maxLoop=3}catch(x){return x.name===Bn.InvalidState&&k.isOpen()&&0<--k._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),k.close({disableAutoOpen:!1}),k.open().then(function(){return y(k,m,S,v)})):pe(x)}return w._promise(m,function(x,_){return Ge(function(){return W.trans=w,v(x,_,w)})}).then(function(x){if(m==="readwrite")try{w.idbtrans.commit()}catch{}return m==="readonly"?x:w._completion.then(function(){return x})})}if(k._state.openComplete)return pe(new U.DatabaseClosed(k._state.dbOpenError));if(!k._state.isBeingOpened){if(!k._state.autoOpen)return pe(new U.DatabaseClosed);k.open().catch(oe)}return k._state.dbReadyPromise.then(function(){return y(k,m,S,v)})}(this.db,e,[this.name],d);return l&&(g._consoleTask=l,g=g.catch(function(y){return console.trace(y),pe(y)})),g}finally{h&&kt()}},ce.prototype.get=function(e,t){var a=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?pe(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(s){return a.core.get({trans:s,key:e}).then(function(u){return a.hook.reading.fire(u)})}).then(t)},ce.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(b(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=p(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(h){if(h.compound&&t.every(function(y){return 0<=h.keyPath.indexOf(y)})){for(var g=0;g<t.length;++g)if(t.indexOf(h.keyPath[g])===-1)return!1;return!0}return!1}).sort(function(h,g){return h.keyPath.length-g.keyPath.length})[0];if(a&&this.db._maxKey!==ft){var l=a.keyPath.slice(0,t.length);return this.where(l).equals(l.map(function(g){return e[g]}))}!a&&Ne&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var s=this.schema.idxByName;function u(h,g){return te(h,g)===0}var d=t.reduce(function(m,g){var y=m[0],k=m[1],m=s[g],S=e[g];return[y||m,y||!m?dt(k,m&&m.multi?function(v){return v=de(v,g),b(v)&&v.some(function(w){return u(S,w)})}:function(v){return u(S,de(v,g))}):k]},[null,null]),l=d[0],d=d[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(d):a?this.filter(d):this.where(t).equals("")},ce.prototype.filter=function(e){return this.toCollection().and(e)},ce.prototype.count=function(e){return this.toCollection().count(e)},ce.prototype.offset=function(e){return this.toCollection().offset(e)},ce.prototype.limit=function(e){return this.toCollection().limit(e)},ce.prototype.each=function(e){return this.toCollection().each(e)},ce.prototype.toArray=function(e){return this.toCollection().toArray(e)},ce.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ce.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,b(e)?"[".concat(e.join("+"),"]"):e))},ce.prototype.reverse=function(){return this.toCollection().reverse()},ce.prototype.mapToClass=function(e){var t,a=this.db,s=this.name;function u(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Fr&&(function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function k(){this.constructor=g}r(g,y),g.prototype=y===null?Object.create(y):(k.prototype=y.prototype,new k)}(u,t=e),Object.defineProperty(u.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),u.prototype.table=function(){return s},e=u);for(var l=new Set,d=e.prototype;d;d=C(d))Object.getOwnPropertyNames(d).forEach(function(g){return l.add(g)});function h(g){if(!g)return g;var y,k=Object.create(e.prototype);for(y in g)if(!l.has(y))try{k[y]=g[y]}catch{}return k}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=h,this.hook("reading",h),e},ce.prototype.defineClass=function(){return this.mapToClass(function(e){O(this,e)})},ce.prototype.add=function(e,t){var a=this,s=this.schema.primKey,u=s.auto,l=s.keyPath,d=e;return l&&u&&(d=dn(l)(e)),this._trans("readwrite",function(h){return a.core.mutate({trans:h,type:"add",keys:t!=null?[t]:null,values:[d]})}).then(function(h){return h.numFailures?B.reject(h.failures[0]):h.lastResult}).then(function(h){if(l)try{ie(e,l,h)}catch{}return h})},ce.prototype.upsert=function(e,t){var a=this,s=this.schema.primKey.keyPath;return this._trans("readwrite",function(u){return a.core.get({trans:u,key:e}).then(function(l){var d=l??{};return Vr(d,t),s&&ie(d,s,e),a.core.mutate({trans:u,type:"put",values:[d],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(h){return h.numFailures?B.reject(h.failures[0]):!!l})})})},ce.prototype.update=function(e,t){return typeof e!="object"||b(e)?this.where(":id").equals(e).modify(t):(e=de(e,this.schema.primKey.keyPath),e===void 0?pe(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},ce.prototype.put=function(e,t){var a=this,s=this.schema.primKey,u=s.auto,l=s.keyPath,d=e;return l&&u&&(d=dn(l)(e)),this._trans("readwrite",function(h){return a.core.mutate({trans:h,type:"put",values:[d],keys:t!=null?[t]:null})}).then(function(h){return h.numFailures?B.reject(h.failures[0]):h.lastResult}).then(function(h){if(l)try{ie(e,l,h)}catch{}return h})},ce.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(a){return t.core.mutate({trans:a,type:"delete",keys:[e]}).then(function(s){return hn(t,[e],s)}).then(function(s){return s.numFailures?B.reject(s.failures[0]):void 0})})},ce.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Kr}).then(function(a){return hn(e,null,a)})}).then(function(t){return t.numFailures?B.reject(t.failures[0]):void 0})},ce.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(a){return t.core.getMany({keys:e,trans:a}).then(function(s){return s.map(function(u){return t.hook.reading.fire(u)})})})},ce.prototype.bulkAdd=function(e,t,a){var s=this,u=Array.isArray(t)?t:void 0,l=(a=a||(u?void 0:t))?a.allKeys:void 0;return this._trans("readwrite",function(d){var y=s.schema.primKey,h=y.auto,y=y.keyPath;if(y&&u)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var g=e.length,y=y&&h?e.map(dn(y)):e;return s.core.mutate({trans:d,type:"add",keys:u,values:y,wantResults:l}).then(function(w){var m=w.numFailures,S=w.results,v=w.lastResult,w=w.failures;if(m===0)return l?S:v;throw new wt("".concat(s.name,".bulkAdd(): ").concat(m," of ").concat(g," operations failed"),w)})})},ce.prototype.bulkPut=function(e,t,a){var s=this,u=Array.isArray(t)?t:void 0,l=(a=a||(u?void 0:t))?a.allKeys:void 0;return this._trans("readwrite",function(d){var y=s.schema.primKey,h=y.auto,y=y.keyPath;if(y&&u)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var g=e.length,y=y&&h?e.map(dn(y)):e;return s.core.mutate({trans:d,type:"put",keys:u,values:y,wantResults:l}).then(function(w){var m=w.numFailures,S=w.results,v=w.lastResult,w=w.failures;if(m===0)return l?S:v;throw new wt("".concat(s.name,".bulkPut(): ").concat(m," of ").concat(g," operations failed"),w)})})},ce.prototype.bulkUpdate=function(e){var t=this,a=this.core,s=e.map(function(d){return d.key}),u=e.map(function(d){return d.changes}),l=[];return this._trans("readwrite",function(d){return a.getMany({trans:d,keys:s,cache:"clone"}).then(function(h){var g=[],y=[];e.forEach(function(m,S){var v=m.key,w=m.changes,x=h[S];if(x){for(var _=0,P=Object.keys(w);_<P.length;_++){var E=P[_],M=w[E];if(E===t.schema.primKey.keyPath){if(te(M,v)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else ie(x,E,M)}l.push(S),g.push(v),y.push(x)}});var k=g.length;return a.mutate({trans:d,type:"put",keys:g,values:y,updates:{keys:s,changeSpecs:u}}).then(function(m){var S=m.numFailures,v=m.failures;if(S===0)return k;for(var w=0,x=Object.keys(v);w<x.length;w++){var _,P=x[w],E=l[Number(P)];E!=null&&(_=v[P],delete v[P],v[E]=_)}throw new wt("".concat(t.name,".bulkUpdate(): ").concat(S," of ").concat(k," operations failed"),v)})})})},ce.prototype.bulkDelete=function(e){var t=this,a=e.length;return this._trans("readwrite",function(s){return t.core.mutate({trans:s,type:"delete",keys:e}).then(function(u){return hn(t,e,u)})}).then(function(d){var u=d.numFailures,l=d.lastResult,d=d.failures;if(u===0)return l;throw new wt("".concat(t.name,".bulkDelete(): ").concat(u," of ").concat(a," operations failed"),d)})},ce);function ce(){}function Ft(e){function t(d,h){if(h){for(var g=arguments.length,y=new Array(g-1);--g;)y[g-1]=arguments[g];return a[d].subscribe.apply(null,y),e}if(typeof d=="string")return a[d]}var a={};t.addEventType=l;for(var s=1,u=arguments.length;s<u;++s)l(arguments[s]);return t;function l(d,h,g){if(typeof d!="object"){var y;h=h||Xa;var k={subscribers:[],fire:g=g||oe,subscribe:function(m){k.subscribers.indexOf(m)===-1&&(k.subscribers.push(m),k.fire=h(k.fire,m))},unsubscribe:function(m){k.subscribers=k.subscribers.filter(function(S){return S!==m}),k.fire=k.subscribers.reduce(h,g)}};return a[d]=t[d]=k}p(y=d).forEach(function(m){var S=y[m];if(b(S))l(m,y[m][0],y[m][1]);else{if(S!=="asap")throw new U.InvalidArgument("Invalid event config");var v=l(m,Rt,function(){for(var w=arguments.length,x=new Array(w);w--;)x[w]=arguments[w];v.subscribers.forEach(function(_){ke(function(){_.apply(null,x)})})})}})}}function Bt(e,t){return Y(t).from({prototype:e}),t}function St(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Xn(e,t){e.filter=dt(e.filter,t)}function Zn(e,t,a){var s=e.replayFilter;e.replayFilter=s?function(){return dt(s(),t())}:t,e.justLimit=a&&!s}function pn(e,t){if(e.isPrimKey)return t.primaryKey;var a=t.getIndexByKeyPath(e.index);if(!a)throw new U.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return a}function Ur(e,t,a){var s=pn(e,t.schema);return t.openCursor({trans:a,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:s,range:e.range}})}function mn(e,t,a,s){var u=e.replayFilter?dt(e.filter,e.replayFilter()):e.filter;if(e.or){var l={},d=function(h,g,y){var k,m;u&&!u(g,y,function(S){return g.stop(S)},function(S){return g.fail(S)})||((m=""+(k=g.primaryKey))=="[object ArrayBuffer]"&&(m=""+new Uint8Array(k)),R(l,m)||(l[m]=!0,t(h,g,y)))};return Promise.all([e.or._iterate(d,a),zr(Ur(e,s,a),e.algorithm,d,!e.keysOnly&&e.valueMapper)])}return zr(Ur(e,s,a),dt(e.algorithm,u),t,!e.keysOnly&&e.valueMapper)}function zr(e,t,a,s){var u=fe(s?function(l,d,h){return a(s(l),d,h)}:a);return e.then(function(l){if(l)return l.start(function(){var d=function(){return l.continue()};t&&!t(l,function(h){return d=h},function(h){l.stop(h),d=oe},function(h){l.fail(h),d=oe})||u(l.value,l,function(h){return d=h}),d()})})}var ai=(ne.prototype._read=function(e,t){var a=this._ctx;return a.error?a.table._trans(null,pe.bind(null,a.error)):a.table._trans("readonly",e).then(t)},ne.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,pe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ne.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=dt(t.algorithm,e)},ne.prototype._iterate=function(e,t){return mn(this._ctx,e,t,this._ctx.table.core)},ne.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return e&&O(a,e),t._ctx=a,t},ne.prototype.raw=function(){return this._ctx.valueMapper=null,this},ne.prototype.each=function(e){var t=this._ctx;return this._read(function(a){return mn(t,e,a,t.table.core)})},ne.prototype.count=function(e){var t=this;return this._read(function(a){var s=t._ctx,u=s.table.core;if(St(s,!0))return u.count({trans:a,query:{index:pn(s,u.schema),range:s.range}}).then(function(d){return Math.min(d,s.limit)});var l=0;return mn(s,function(){return++l,!1},a,u).then(function(){return l})}).then(e)},ne.prototype.sortBy=function(e,t){var a=e.split(".").reverse(),s=a[0],u=a.length-1;function l(g,y){return y?l(g[a[y]],y-1):g[s]}var d=this._ctx.dir==="next"?1:-1;function h(g,y){return te(l(g,u),l(y,u))*d}return this.toArray(function(g){return g.sort(h)}).then(t)},ne.prototype.toArray=function(e){var t=this;return this._read(function(a){var s=t._ctx;if(s.dir==="next"&&St(s,!0)&&0<s.limit){var u=s.valueMapper,l=pn(s,s.table.core.schema);return s.table.core.query({trans:a,limit:s.limit,values:!0,query:{index:l,range:s.range}}).then(function(h){return h=h.result,u?h.map(u):h})}var d=[];return mn(s,function(h){return d.push(h)},a,s.table.core).then(function(){return d})},e)},ne.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,St(t)?Zn(t,function(){var a=e;return function(s,u){return a===0||(a===1?--a:u(function(){s.advance(a),a=0}),!1)}}):Zn(t,function(){var a=e;return function(){return--a<0}})),this},ne.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Zn(this._ctx,function(){var t=e;return function(a,s,u){return--t<=0&&s(u),0<=t}},!0),this},ne.prototype.until=function(e,t){return Xn(this._ctx,function(a,s,u){return!e(a.value)||(s(u),t)}),this},ne.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ne.prototype.last=function(e){return this.reverse().first(e)},ne.prototype.filter=function(e){var t;return Xn(this._ctx,function(a){return e(a.value)}),(t=this._ctx).isMatch=dt(t.isMatch,e),this},ne.prototype.and=function(e){return this.filter(e)},ne.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ne.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ne.prototype.desc=function(){return this.reverse()},ne.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(a,s){e(s.key,s)})},ne.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ne.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(a,s){e(s.primaryKey,s)})},ne.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var a=[];return this.each(function(s,u){a.push(u.key)}).then(function(){return a}).then(e)},ne.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&St(t,!0)&&0<t.limit)return this._read(function(s){var u=pn(t,t.table.core.schema);return t.table.core.query({trans:s,values:!1,limit:t.limit,query:{index:u,range:t.range}})}).then(function(s){return s.result}).then(e);t.keysOnly=!t.isMatch;var a=[];return this.each(function(s,u){a.push(u.primaryKey)}).then(function(){return a}).then(e)},ne.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ne.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ne.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ne.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Xn(this._ctx,function(u){var s=u.primaryKey.toString(),u=R(t,s);return t[s]=!0,!u}),this},ne.prototype.modify=function(e){var t=this,a=this._ctx;return this._write(function(s){var u=typeof e=="function"?e:function(x){return Vr(x,e)},l=a.table.core,y=l.schema.primaryKey,d=y.outbound,h=y.extractKey,g=200,y=t.db._options.modifyChunkSize;y&&(g=typeof y=="object"?y[l.name]||y["*"]||200:y);function k(x,E){var P=E.failures,E=E.numFailures;S+=x-E;for(var M=0,j=p(P);M<j.length;M++){var L=j[M];m.push(P[L])}}var m=[],S=0,v=[],w=e===Yr;return t.clone().primaryKeys().then(function(x){function _(E){var M=Math.min(g,x.length-E),j=x.slice(E,E+M);return(w?Promise.resolve([]):l.getMany({trans:s,keys:j,cache:"immutable"})).then(function(L){var K=[],I=[],T=d?[]:null,F=w?j:[];if(!w)for(var N=0;N<M;++N){var $=L[N],Q={value:qe($),primKey:x[E+N]};u.call(Q,Q.value,Q)!==!1&&(Q.value==null?F.push(x[E+N]):d||te(h($),h(Q.value))===0?(I.push(Q.value),d&&T.push(x[E+N])):(F.push(x[E+N]),K.push(Q.value)))}return Promise.resolve(0<K.length&&l.mutate({trans:s,type:"add",values:K}).then(function(X){for(var ee in X.failures)F.splice(parseInt(ee),1);k(K.length,X)})).then(function(){return(0<I.length||P&&typeof e=="object")&&l.mutate({trans:s,type:"put",keys:T,values:I,criteria:P,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<E}).then(function(X){return k(I.length,X)})}).then(function(){return(0<F.length||P&&w)&&l.mutate({trans:s,type:"delete",keys:F,criteria:P,isAdditionalChunk:0<E}).then(function(X){return hn(a.table,F,X)}).then(function(X){return k(F.length,X)})}).then(function(){return x.length>E+M&&_(E+g)})})}var P=St(a)&&a.limit===1/0&&(typeof e!="function"||w)&&{index:a.index,range:a.range};return _(0).then(function(){if(0<m.length)throw new en("Error modifying one or more objects",m,S,v);return x.length})})})},ne.prototype.delete=function(){var e=this._ctx,t=e.range;return!St(e)||e.table.schema.yProps||!e.isPrimKey&&t.type!==3?this.modify(Yr):this._write(function(a){var s=e.table.core.schema.primaryKey,u=t;return e.table.core.count({trans:a,query:{index:s,range:u}}).then(function(l){return e.table.core.mutate({trans:a,type:"deleteRange",range:u}).then(function(g){var h=g.failures,g=g.numFailures;if(g)throw new en("Could not delete some values",Object.keys(h).map(function(y){return h[y]}),l-g);return l-g})})})},ne);function ne(){}var Yr=function(e,t){return t.value=null};function ii(e,t){return e<t?-1:e===t?0:1}function si(e,t){return t<e?-1:e===t?0:1}function Re(e,t,a){return e=e instanceof Qr?new e.Collection(e):e,e._ctx.error=new(a||TypeError)(t),e}function Pt(e){return new e.Collection(e,function(){return Hr("")}).limit(0)}function gn(e,t,a,s){var u,l,d,h,g,y,k,m=a.length;if(!a.every(function(w){return typeof w=="string"}))return Re(e,Nr);function S(w){u=w==="next"?function(_){return _.toUpperCase()}:function(_){return _.toLowerCase()},l=w==="next"?function(_){return _.toLowerCase()}:function(_){return _.toUpperCase()},d=w==="next"?ii:si;var x=a.map(function(_){return{lower:l(_),upper:u(_)}}).sort(function(_,P){return d(_.lower,P.lower)});h=x.map(function(_){return _.upper}),g=x.map(function(_){return _.lower}),k=(y=w)==="next"?"":s}S("next"),e=new e.Collection(e,function(){return Ze(h[0],g[m-1]+s)}),e._ondirectionchange=function(w){S(w)};var v=0;return e._addAlgorithm(function(w,x,_){var P=w.key;if(typeof P!="string")return!1;var E=l(P);if(t(E,g,v))return!0;for(var M=null,j=v;j<m;++j){var L=function(K,I,T,F,N,$){for(var Q=Math.min(K.length,F.length),X=-1,ee=0;ee<Q;++ee){var Ie=I[ee];if(Ie!==F[ee])return N(K[ee],T[ee])<0?K.substr(0,ee)+T[ee]+T.substr(ee+1):N(K[ee],F[ee])<0?K.substr(0,ee)+F[ee]+T.substr(ee+1):0<=X?K.substr(0,X)+I[X]+T.substr(X+1):null;N(K[ee],Ie)<0&&(X=ee)}return Q<F.length&&$==="next"?K+T.substr(K.length):Q<K.length&&$==="prev"?K.substr(0,T.length):X<0?null:K.substr(0,X)+F[X]+T.substr(X+1)}(P,E,h[j],g[j],d,y);L===null&&M===null?v=j+1:(M===null||0<d(M,L))&&(M=L)}return x(M!==null?function(){w.continue(M+k)}:_),!1}),e}function Ze(e,t,a,s){return{type:2,lower:e,upper:t,lowerOpen:a,upperOpen:s}}function Hr(e){return{type:1,lower:e,upper:e}}var Qr=(Object.defineProperty(ve.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ve.prototype.between=function(e,t,a,s){a=a!==!1,s=s===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(a||s)&&(!a||!s)?Pt(this):new this.Collection(this,function(){return Ze(e,t,!a,!s)})}catch{return Re(this,Ve)}},ve.prototype.equals=function(e){return e==null?Re(this,Ve):new this.Collection(this,function(){return Hr(e)})},ve.prototype.above=function(e){return e==null?Re(this,Ve):new this.Collection(this,function(){return Ze(e,void 0,!0)})},ve.prototype.aboveOrEqual=function(e){return e==null?Re(this,Ve):new this.Collection(this,function(){return Ze(e,void 0,!1)})},ve.prototype.below=function(e){return e==null?Re(this,Ve):new this.Collection(this,function(){return Ze(void 0,e,!1,!0)})},ve.prototype.belowOrEqual=function(e){return e==null?Re(this,Ve):new this.Collection(this,function(){return Ze(void 0,e)})},ve.prototype.startsWith=function(e){return typeof e!="string"?Re(this,Nr):this.between(e,e+ft,!0,!0)},ve.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):gn(this,function(t,a){return t.indexOf(a[0])===0},[e],ft)},ve.prototype.equalsIgnoreCase=function(e){return gn(this,function(t,a){return t===a[0]},[e],"")},ve.prototype.anyOfIgnoreCase=function(){var e=Me.apply(Ae,arguments);return e.length===0?Pt(this):gn(this,function(t,a){return a.indexOf(t)!==-1},e,"")},ve.prototype.startsWithAnyOfIgnoreCase=function(){var e=Me.apply(Ae,arguments);return e.length===0?Pt(this):gn(this,function(t,a){return a.some(function(s){return t.indexOf(s)===0})},e,ft)},ve.prototype.anyOf=function(){var e=this,t=Me.apply(Ae,arguments),a=this._cmp;try{t.sort(a)}catch{return Re(this,Ve)}if(t.length===0)return Pt(this);var s=new this.Collection(this,function(){return Ze(t[0],t[t.length-1])});s._ondirectionchange=function(l){a=l==="next"?e._ascending:e._descending,t.sort(a)};var u=0;return s._addAlgorithm(function(l,d,h){for(var g=l.key;0<a(g,t[u]);)if(++u===t.length)return d(h),!1;return a(g,t[u])===0||(d(function(){l.continue(t[u])}),!1)}),s},ve.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ve.prototype.noneOf=function(){var e=Me.apply(Ae,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Re(this,Ve)}var t=e.reduce(function(a,s){return a?a.concat([[a[a.length-1][1],s]]):[[-1/0,s]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},ve.prototype.inAnyRange=function(P,t){var a=this,s=this._cmp,u=this._ascending,l=this._descending,d=this._min,h=this._max;if(P.length===0)return Pt(this);if(!P.every(function(E){return E[0]!==void 0&&E[1]!==void 0&&u(E[0],E[1])<=0}))return Re(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var g=!t||t.includeLowers!==!1,y=t&&t.includeUppers===!0,k,m=u;function S(E,M){return m(E[0],M[0])}try{(k=P.reduce(function(E,M){for(var j=0,L=E.length;j<L;++j){var K=E[j];if(s(M[0],K[1])<0&&0<s(M[1],K[0])){K[0]=d(K[0],M[0]),K[1]=h(K[1],M[1]);break}}return j===L&&E.push(M),E},[])).sort(S)}catch{return Re(this,Ve)}var v=0,w=y?function(E){return 0<u(E,k[v][1])}:function(E){return 0<=u(E,k[v][1])},x=g?function(E){return 0<l(E,k[v][0])}:function(E){return 0<=l(E,k[v][0])},_=w,P=new this.Collection(this,function(){return Ze(k[0][0],k[k.length-1][1],!g,!y)});return P._ondirectionchange=function(E){m=E==="next"?(_=w,u):(_=x,l),k.sort(S)},P._addAlgorithm(function(E,M,j){for(var L,K=E.key;_(K);)if(++v===k.length)return M(j),!1;return!w(L=K)&&!x(L)||(a._cmp(K,k[v][1])===0||a._cmp(K,k[v][0])===0||M(function(){m===u?E.continue(k[v][0]):E.continue(k[v][1])}),!1)}),P},ve.prototype.startsWithAnyOf=function(){var e=Me.apply(Ae,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?Pt(this):this.inAnyRange(e.map(function(t){return[t,t+ft]})):Re(this,"startsWithAnyOf() only works with strings")},ve);function ve(){}function Ke(e){return fe(function(t){return qt(t),e(t.target.error),!1})}function qt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var $t="storagemutated",er="x-storagemutated-1",et=Ft(null,$t),oi=(Fe.prototype._lock=function(){return ue(!W.global),++this._reculock,this._reculock!==1||W.global||(W.lockOwnerFor=this),this},Fe.prototype._unlock=function(){if(ue(!W.global),--this._reculock==0)for(W.global||(W.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{lt(e[1],e[0])}catch{}}return this},Fe.prototype._locked=function(){return this._reculock&&W.lockOwnerFor!==this},Fe.prototype.create=function(e){var t=this;if(!this.mode)return this;var a=this.db.idbdb,s=this.db._state.dbOpenError;if(ue(!this.idbtrans),!e&&!a)switch(s&&s.name){case"DatabaseClosedError":throw new U.DatabaseClosed(s);case"MissingAPIError":throw new U.MissingAPI(s.message,s);default:throw new U.OpenFailed(s)}if(!this.active)throw new U.TransactionInactive;return ue(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=fe(function(u){qt(u),t._reject(e.error)}),e.onabort=fe(function(u){qt(u),t.active&&t._reject(new U.Abort(e.error)),t.active=!1,t.on("abort").fire(u)}),e.oncomplete=fe(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&et.storagemutated.fire(e.mutatedParts)}),this},Fe.prototype._promise=function(e,t,a){var s=this;if(e==="readwrite"&&this.mode!=="readwrite")return pe(new U.ReadOnly("Transaction is readonly"));if(!this.active)return pe(new U.TransactionInactive);if(this._locked())return new B(function(l,d){s._blockedFuncs.push([function(){s._promise(e,t,a).then(l,d)},W])});if(a)return Ge(function(){var l=new B(function(d,h){s._lock();var g=t(d,h,s);g&&g.then&&g.then(d,h)});return l.finally(function(){return s._unlock()}),l._lib=!0,l});var u=new B(function(l,d){var h=t(l,d,s);h&&h.then&&h.then(l,d)});return u._lib=!0,u},Fe.prototype._root=function(){return this.parent?this.parent._root():this},Fe.prototype.waitFor=function(e){var t,a=this._root(),s=B.resolve(e);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return s}):(a._waitingFor=s,a._waitingQueue=[],t=a.idbtrans.objectStore(a.storeNames[0]),function l(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(t.get(-1/0).onsuccess=l)}());var u=a._waitingFor;return new B(function(l,d){s.then(function(h){return a._waitingQueue.push(fe(l.bind(null,h)))},function(h){return a._waitingQueue.push(fe(d.bind(null,h)))}).finally(function(){a._waitingFor===u&&(a._waitingFor=null)})})},Fe.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},Fe.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(R(t,e))return t[e];var a=this.schema[e];if(!a)throw new U.NotFound("Table "+e+" not part of transaction");return a=new this.db.Table(e,a,this),a.core=this.db.core.table(e),t[e]=a},Fe);function Fe(){}function tr(e,t,a,s,u,l,d,h){return{name:e,keyPath:t,unique:a,multi:s,auto:u,compound:l,src:(a&&!d?"&":"")+(s?"*":"")+(u?"++":"")+Gr(t),type:h}}function Gr(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function nr(e,t,a){return{name:e,primKey:t,indexes:a,mappedClass:null,idxByName:(s=function(u){return[u.name,u]},a.reduce(function(u,l,d){return d=s(l,d),d&&(u[d[0]]=d[1]),u},{}))};var s}var Vt=function(e){try{return e.only([[]]),Vt=function(){return[[]]},[[]]}catch{return Vt=function(){return ft},ft}};function rr(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(a){return a[t]}:function(a){return de(a,t)}:function(a){return de(a,e)};var t}function Jr(e){return[].slice.call(e)}var ui=0;function Wt(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function ci(e,t,g){function s(_){if(_.type===3)return null;if(_.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var v=_.lower,w=_.upper,x=_.lowerOpen,_=_.upperOpen;return v===void 0?w===void 0?null:t.upperBound(w,!!_):w===void 0?t.lowerBound(v,!!x):t.bound(v,w,!!x,!!_)}function u(S){var v,w=S.name;return{name:w,schema:S,mutate:function(x){var _=x.trans,P=x.type,E=x.keys,M=x.values,j=x.range;return new Promise(function(L,K){L=fe(L);var I=_.objectStore(w),T=I.keyPath==null,F=P==="put"||P==="add";if(!F&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var N,$=(E||M||{length:1}).length;if(E&&M&&E.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if($===0)return L({numFailures:0,failures:{},results:[],lastResult:void 0});function Q(je){++Ie,qt(je)}var X=[],ee=[],Ie=0;if(P==="deleteRange"){if(j.type===4)return L({numFailures:Ie,failures:ee,results:[],lastResult:void 0});j.type===3?X.push(N=I.clear()):X.push(N=I.delete(s(j)))}else{var T=F?T?[M,E]:[M,null]:[E,null],H=T[0],Oe=T[1];if(F)for(var Se=0;Se<$;++Se)X.push(N=Oe&&Oe[Se]!==void 0?I[P](H[Se],Oe[Se]):I[P](H[Se])),N.onerror=Q;else for(Se=0;Se<$;++Se)X.push(N=I[P](H[Se])),N.onerror=Q}function Cn(je){je=je.target.result,X.forEach(function(mt,xr){return mt.error!=null&&(ee[xr]=mt.error)}),L({numFailures:Ie,failures:ee,results:P==="delete"?E:X.map(function(mt){return mt.result}),lastResult:je})}N.onerror=function(je){Q(je),Cn(je)},N.onsuccess=Cn})},getMany:function(x){var _=x.trans,P=x.keys;return new Promise(function(E,M){E=fe(E);for(var j,L=_.objectStore(w),K=P.length,I=new Array(K),T=0,F=0,N=function(X){X=X.target,I[X._pos]=X.result,++F===T&&E(I)},$=Ke(M),Q=0;Q<K;++Q)P[Q]!=null&&((j=L.get(P[Q]))._pos=Q,j.onsuccess=N,j.onerror=$,++T);T===0&&E(I)})},get:function(x){var _=x.trans,P=x.key;return new Promise(function(E,M){E=fe(E);var j=_.objectStore(w).get(P);j.onsuccess=function(L){return E(L.target.result)},j.onerror=Ke(M)})},query:(v=y,function(x){return new Promise(function(_,P){_=fe(_);var E,M,j,T=x.trans,L=x.values,K=x.limit,N=x.query,I=K===1/0?void 0:K,F=N.index,N=N.range,T=T.objectStore(w),F=F.isPrimaryKey?T:T.index(F.name),N=s(N);if(K===0)return _({result:[]});v?((I=L?F.getAll(N,I):F.getAllKeys(N,I)).onsuccess=function($){return _({result:$.target.result})},I.onerror=Ke(P)):(E=0,M=!L&&"openKeyCursor"in F?F.openKeyCursor(N):F.openCursor(N),j=[],M.onsuccess=function($){var Q=M.result;return Q?(j.push(L?Q.value:Q.primaryKey),++E===K?_({result:j}):void Q.continue()):_({result:j})},M.onerror=Ke(P))})}),openCursor:function(x){var _=x.trans,P=x.values,E=x.query,M=x.reverse,j=x.unique;return new Promise(function(L,K){L=fe(L);var F=E.index,I=E.range,T=_.objectStore(w),T=F.isPrimaryKey?T:T.index(F.name),F=M?j?"prevunique":"prev":j?"nextunique":"next",N=!P&&"openKeyCursor"in T?T.openKeyCursor(s(I),F):T.openCursor(s(I),F);N.onerror=Ke(K),N.onsuccess=fe(function($){var Q,X,ee,Ie,H=N.result;H?(H.___id=++ui,H.done=!1,Q=H.continue.bind(H),X=(X=H.continuePrimaryKey)&&X.bind(H),ee=H.advance.bind(H),Ie=function(){throw new Error("Cursor not stopped")},H.trans=_,H.stop=H.continue=H.continuePrimaryKey=H.advance=function(){throw new Error("Cursor not started")},H.fail=fe(K),H.next=function(){var Oe=this,Se=1;return this.start(function(){return Se--?Oe.continue():Oe.stop()}).then(function(){return Oe})},H.start=function(Oe){function Se(){if(N.result)try{Oe()}catch(je){H.fail(je)}else H.done=!0,H.start=function(){throw new Error("Cursor behind last entry")},H.stop()}var Cn=new Promise(function(je,mt){je=fe(je),N.onerror=Ke(mt),H.fail=mt,H.stop=function(xr){H.stop=H.continue=H.continuePrimaryKey=H.advance=Ie,je(xr)}});return N.onsuccess=fe(function(je){N.onsuccess=Se,Se()}),H.continue=Q,H.continuePrimaryKey=X,H.advance=ee,Se(),Cn},L(H)):L(null)},K)})},count:function(x){var _=x.query,P=x.trans,E=_.index,M=_.range;return new Promise(function(j,L){var K=P.objectStore(w),I=E.isPrimaryKey?K:K.index(E.name),K=s(M),I=K?I.count(K):I.count();I.onsuccess=fe(function(T){return j(T.target.result)}),I.onerror=Ke(L)})}}}var l,d,h,k=(d=g,h=Jr((l=e).objectStoreNames),{schema:{name:l.name,tables:h.map(function(S){return d.objectStore(S)}).map(function(S){var v=S.keyPath,_=S.autoIncrement,w=b(v),x={},_={name:S.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v==null,compound:w,keyPath:v,autoIncrement:_,unique:!0,extractKey:rr(v)},indexes:Jr(S.indexNames).map(function(P){return S.index(P)}).map(function(j){var E=j.name,M=j.unique,L=j.multiEntry,j=j.keyPath,L={name:E,compound:b(j),keyPath:j,unique:M,multiEntry:L,extractKey:rr(j)};return x[Wt(j)]=L}),getIndexByKeyPath:function(P){return x[Wt(P)]}};return x[":id"]=_.primaryKey,v!=null&&(x[Wt(v)]=_.primaryKey),_})},hasGetAll:0<h.length&&"getAll"in d.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),g=k.schema,y=k.hasGetAll,k=g.tables.map(u),m={};return k.forEach(function(S){return m[S.name]=S}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(S){if(!m[S])throw new Error("Table '".concat(S,"' not found"));return m[S]},MIN_KEY:-1/0,MAX_KEY:Vt(t),schema:g}}function li(e,t,a,s){var u=a.IDBKeyRange;return a.indexedDB,{dbcore:(s=ci(t,u,s),e.dbcore.reduce(function(l,d){return d=d.create,i(i({},l),d(l))},s))}}function yn(e,s){var a=s.db,s=li(e._middlewares,a,e._deps,s);e.core=s.dbcore,e.tables.forEach(function(u){var l=u.name;e.core.schema.tables.some(function(d){return d.name===l})&&(u.core=e.core.table(l),e[l]instanceof e.Table&&(e[l].core=u.core))})}function vn(e,t,a,s){a.forEach(function(u){var l=s[u];t.forEach(function(d){var h=function g(y,k){return ae(y,k)||(y=C(y))&&g(y,k)}(d,u);(!h||"value"in h&&h.value===void 0)&&(d===e.Transaction.prototype||d instanceof e.Transaction?q(d,u,{get:function(){return this.table(u)},set:function(g){V(this,u,{value:g,writable:!0,configurable:!0,enumerable:!0})}}):d[u]=new e.Table(u,l))})})}function ar(e,t){t.forEach(function(a){for(var s in a)a[s]instanceof e.Table&&delete a[s]})}function fi(e,t){return e._cfg.version-t._cfg.version}function di(e,t,a,s){var u=e._dbSchema;a.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=nr("$meta",Zr("")[0],[]),e._storeNames.push("$meta"));var l=e._createTransaction("readwrite",e._storeNames,u);l.create(a),l._completion.catch(s);var d=l._reject.bind(l),h=W.transless||W;Ge(function(){return W.trans=l,W.transless=h,t!==0?(yn(e,a),y=t,((g=l).storeNames.includes("$meta")?g.table("$meta").get("version").then(function(k){return k??y}):B.resolve(y)).then(function(k){return S=k,v=l,w=a,x=[],k=(m=e)._versions,_=m._dbSchema=wn(0,m.idbdb,w),(k=k.filter(function(P){return P._cfg.version>=S})).length!==0?(k.forEach(function(P){x.push(function(){var E=_,M=P._cfg.dbschema;xn(m,E,w),xn(m,M,w),_=m._dbSchema=M;var j=ir(E,M);j.add.forEach(function(F){sr(w,F[0],F[1].primKey,F[1].indexes)}),j.change.forEach(function(F){if(F.recreate)throw new U.Upgrade("Not yet support for changing primary key");var N=w.objectStore(F.name);F.add.forEach(function($){return bn(N,$)}),F.change.forEach(function($){N.deleteIndex($.name),bn(N,$)}),F.del.forEach(function($){return N.deleteIndex($)})});var L=P._cfg.contentUpgrade;if(L&&P._cfg.version>S){yn(m,w),v._memoizedTables={};var K=rt(M);j.del.forEach(function(F){K[F]=E[F]}),ar(m,[m.Transaction.prototype]),vn(m,[m.Transaction.prototype],p(K),K),v.schema=K;var I,T=vt(L);return T&&_t(),j=B.follow(function(){var F;(I=L(v))&&T&&(F=Je.bind(null,null),I.then(F,F))}),I&&typeof I.then=="function"?B.resolve(I):j.then(function(){return I})}}),x.push(function(E){var M,j,L=P._cfg.dbschema;M=L,j=E,[].slice.call(j.db.objectStoreNames).forEach(function(K){return M[K]==null&&j.db.deleteObjectStore(K)}),ar(m,[m.Transaction.prototype]),vn(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),v.schema=m._dbSchema}),x.push(function(E){m.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(m.idbdb.version/10)===P._cfg.version?(m.idbdb.deleteObjectStore("$meta"),delete m._dbSchema.$meta,m._storeNames=m._storeNames.filter(function(M){return M!=="$meta"})):E.objectStore("$meta").put(P._cfg.version,"version"))})}),function P(){return x.length?B.resolve(x.shift()(v.idbtrans)).then(P):B.resolve()}().then(function(){Xr(_,w)})):B.resolve();var m,S,v,w,x,_}).catch(d)):(p(u).forEach(function(k){sr(a,k,u[k].primKey,u[k].indexes)}),yn(e,a),void B.follow(function(){return e.on.populate.fire(l)}).catch(d));var g,y})}function hi(e,t){Xr(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var a=wn(0,e.idbdb,t);xn(e,e._dbSchema,t);for(var s=0,u=ir(a,e._dbSchema).change;s<u.length;s++){var l=function(d){if(d.change.length||d.recreate)return console.warn("Unable to patch indexes of table ".concat(d.name," because it has changes on the type of index or primary key.")),{value:void 0};var h=t.objectStore(d.name);d.add.forEach(function(g){Ne&&console.debug("Dexie upgrade patch: Creating missing index ".concat(d.name,".").concat(g.src)),bn(h,g)})}(u[s]);if(typeof l=="object")return l.value}}function ir(e,t){var a,s={del:[],add:[],change:[]};for(a in e)t[a]||s.del.push(a);for(a in t){var u=e[a],l=t[a];if(u){var d={name:a,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||u.primKey.auto!==l.primKey.auto)d.recreate=!0,s.change.push(d);else{var h=u.idxByName,g=l.idxByName,y=void 0;for(y in h)g[y]||d.del.push(y);for(y in g){var k=h[y],m=g[y];k?k.src!==m.src&&d.change.push(m):d.add.push(m)}(0<d.del.length||0<d.add.length||0<d.change.length)&&s.change.push(d)}}else s.add.push([a,l])}return s}function sr(e,t,a,s){var u=e.db.createObjectStore(t,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return s.forEach(function(l){return bn(u,l)}),u}function Xr(e,t){p(e).forEach(function(a){t.db.objectStoreNames.contains(a)||(Ne&&console.debug("Dexie: Creating missing table",a),sr(t,a,e[a].primKey,e[a].indexes))})}function bn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function wn(e,t,a){var s={};return ge(t.objectStoreNames,0).forEach(function(u){for(var l=a.objectStore(u),d=tr(Gr(y=l.keyPath),y||"",!0,!1,!!l.autoIncrement,y&&typeof y!="string",!0),h=[],g=0;g<l.indexNames.length;++g){var k=l.index(l.indexNames[g]),y=k.keyPath,k=tr(k.name,y,!!k.unique,!!k.multiEntry,!1,y&&typeof y!="string",!1);h.push(k)}s[u]=nr(u,d,h)}),s}function xn(e,t,a){for(var s=a.db.objectStoreNames,u=0;u<s.length;++u){var l=s[u],d=a.objectStore(l);e._hasGetAll="getAll"in d;for(var h=0;h<d.indexNames.length;++h){var g=d.indexNames[h],y=d.index(g).keyPath,k=typeof y=="string"?y:"["+ge(y).join("+")+"]";!t[l]||(y=t[l].idxByName[k])&&(y.name=g,delete t[l].idxByName[k],t[l].idxByName[g]=y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Zr(e){return e.split(",").map(function(t,a){var l=t.split(":"),s=(u=l[1])===null||u===void 0?void 0:u.trim(),u=(t=l[0].trim()).replace(/([&*]|\+\+)/g,""),l=/^\[/.test(u)?u.match(/^\[(.*)\]$/)[1].split("+"):u;return tr(u,l||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),b(l),a===0,s)})}var pi=(Et.prototype._createTableSchema=nr,Et.prototype._parseIndexSyntax=Zr,Et.prototype._parseStoresSpec=function(e,t){var a=this;p(e).forEach(function(s){if(e[s]!==null){var u=a._parseIndexSyntax(e[s]),l=u.shift();if(!l)throw new U.Schema("Invalid schema for table "+s+": "+e[s]);if(l.unique=!0,l.multi)throw new U.Schema("Primary key cannot be multiEntry*");u.forEach(function(d){if(d.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),u=a._createTableSchema(s,l,u),t[s]=u}})},Et.prototype.stores=function(a){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?O(this._cfg.storesSource,a):a;var a=t._versions,s={},u={};return a.forEach(function(l){O(s,l._cfg.storesSource),u=l._cfg.dbschema={},l._parseStoresSpec(s,u)}),t._dbSchema=u,ar(t,[t._allTables,t,t.Transaction.prototype]),vn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],p(u),u),t._storeNames=p(u),this},Et.prototype.upgrade=function(e){return this._cfg.contentUpgrade=qn(this._cfg.contentUpgrade||oe,e),this},Et);function Et(){}function or(e,t){var a=e._dbNamesDB;return a||(a=e._dbNamesDB=new We(fn,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function ur(e){return e&&typeof e.databases=="function"}function cr(e){return Ge(function(){return W.letThrough=!0,e()})}function lr(e){return!("from"in e)}var _e=function(e,t){if(!this){var a=new _e;return e&&"d"in e&&O(a,e),a}O(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function Ut(e,t,a){var s=te(t,a);if(!isNaN(s)){if(0<s)throw RangeError();if(lr(e))return O(e,{from:t,to:a,d:1});var u=e.l,s=e.r;if(te(a,e.from)<0)return u?Ut(u,t,a):e.l={from:t,to:a,d:1,l:null,r:null},ta(e);if(0<te(t,e.to))return s?Ut(s,t,a):e.r={from:t,to:a,d:1,l:null,r:null},ta(e);te(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),0<te(a,e.to)&&(e.to=a,e.r=null,e.d=e.l?e.l.d+1:1),a=!e.r,u&&!e.l&&zt(e,u),s&&a&&zt(e,s)}}function zt(e,t){lr(t)||function a(s,g){var l=g.from,d=g.to,h=g.l,g=g.r;Ut(s,l,d),h&&a(s,h),g&&a(s,g)}(e,t)}function ea(e,t){var a=kn(t),s=a.next();if(s.done)return!1;for(var u=s.value,l=kn(e),d=l.next(u.from),h=d.value;!s.done&&!d.done;){if(te(h.from,u.to)<=0&&0<=te(h.to,u.from))return!0;te(u.from,h.from)<0?u=(s=a.next(h.from)).value:h=(d=l.next(u.from)).value}return!1}function kn(e){var t=lr(e)?null:{s:0,n:e};return{next:function(a){for(var s=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,s)for(;t.n.l&&te(a,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!s||te(a,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function ta(e){var t,a,s=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((a=e.l)===null||a===void 0?void 0:a.d)||0),u=1<s?"r":s<-1?"l":"";u&&(t=u=="r"?"l":"r",a=i({},e),s=e[u],e.from=s.from,e.to=s.to,e[u]=s[u],a[u]=s[t],(e[t]=a).d=na(a)),e.d=na(e)}function na(a){var t=a.r,a=a.l;return(t?a?Math.max(t.d,a.d):t.d:a?a.d:0)+1}function _n(e,t){return p(t).forEach(function(a){e[a]?zt(e[a],t[a]):e[a]=function s(u){var l,d,h={};for(l in u)R(u,l)&&(d=u[l],h[l]=!d||typeof d!="object"||Ye.has(d.constructor)?d:s(d));return h}(t[a])}),e}function fr(e,t){return e.all||t.all||Object.keys(e).some(function(a){return t[a]&&ea(t[a],e[a])})}D(_e.prototype,((Le={add:function(e){return zt(this,e),this},addKey:function(e){return Ut(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(a){return Ut(t,a,a)}),this},hasKey:function(e){var t=kn(this).next(e).value;return t&&te(t.from,e)<=0&&0<=te(t.to,e)}})[He]=function(){return kn(this)},Le));var ht={},dr={},hr=!1;function On(e){_n(dr,e),hr||(hr=!0,setTimeout(function(){hr=!1,pr(dr,!(dr={}))},0))}function pr(e,t){t===void 0&&(t=!1);var a=new Set;if(e.all)for(var s=0,u=Object.values(ht);s<u.length;s++)ra(d=u[s],e,a,t);else for(var l in e){var d,h=/^idb\:\/\/(.*)\/(.*)\//.exec(l);h&&(l=h[1],h=h[2],(d=ht["idb://".concat(l,"/").concat(h)])&&ra(d,e,a,t))}a.forEach(function(g){return g()})}function ra(e,t,a,s){for(var u=[],l=0,d=Object.entries(e.queries.query);l<d.length;l++){for(var h=d[l],g=h[0],y=[],k=0,m=h[1];k<m.length;k++){var S=m[k];fr(t,S.obsSet)?S.subscribers.forEach(function(_){return a.add(_)}):s&&y.push(S)}s&&u.push([g,y])}if(s)for(var v=0,w=u;v<w.length;v++){var x=w[v],g=x[0],y=x[1];e.queries.query[g]=y}}function mi(e){var t=e._state,a=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?pe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var s=t.openCanceller,u=Math.round(10*e.verno),l=!1;function d(){if(t.openCanceller!==s)throw new U.DatabaseClosed("db.open() was cancelled")}function h(){return new B(function(S,v){if(d(),!a)throw new U.MissingAPI;var w=e.name,x=t.autoSchema||!u?a.open(w):a.open(w,u);if(!x)throw new U.MissingAPI;x.onerror=Ke(v),x.onblocked=fe(e._fireOnBlocked),x.onupgradeneeded=fe(function(_){var P;k=x.transaction,t.autoSchema&&!e._options.allowEmptyDB?(x.onerror=qt,k.abort(),x.result.close(),(P=a.deleteDatabase(w)).onsuccess=P.onerror=fe(function(){v(new U.NoSuchDatabase("Database ".concat(w," doesnt exist")))})):(k.onerror=Ke(v),_=_.oldVersion>Math.pow(2,62)?0:_.oldVersion,m=_<1,e.idbdb=x.result,l&&hi(e,k),di(e,_/10,k,v))},v),x.onsuccess=fe(function(){k=null;var _,P,E,M,j,L=e.idbdb=x.result,K=ge(L.objectStoreNames);if(0<K.length)try{var I=L.transaction((M=K).length===1?M[0]:M,"readonly");if(t.autoSchema)P=L,E=I,(_=e).verno=P.version/10,E=_._dbSchema=wn(0,P,E),_._storeNames=ge(P.objectStoreNames,0),vn(_,[_._allTables],p(E),E);else if(xn(e,e._dbSchema,I),((j=ir(wn(0,(j=e).idbdb,I),j._dbSchema)).add.length||j.change.some(function(T){return T.add.length||T.change.length}))&&!l)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),L.close(),u=L.version+1,l=!0,S(h());yn(e,I)}catch{}Ot.push(e),L.onversionchange=fe(function(T){t.vcFired=!0,e.on("versionchange").fire(T)}),L.onclose=fe(function(){e.close({disableAutoOpen:!1})}),m&&(j=e._deps,I=w,L=j.indexedDB,j=j.IDBKeyRange,ur(L)||I===fn||or(L,j).put({name:I}).catch(oe)),S()},v)}).catch(function(S){switch(S==null?void 0:S.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),h();break;case"VersionError":if(0<u)return u=0,h()}return B.reject(S)})}var g,y=t.dbReadyResolve,k=null,m=!1;return B.race([s,(typeof navigator>"u"?B.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(S){function v(){return indexedDB.databases().finally(S)}g=setInterval(v,100),v()}).finally(function(){return clearInterval(g)}):Promise.resolve()).then(h)]).then(function(){return d(),t.onReadyBeingFired=[],B.resolve(cr(function(){return e.on.ready.fire(e.vip)})).then(function S(){if(0<t.onReadyBeingFired.length){var v=t.onReadyBeingFired.reduce(qn,oe);return t.onReadyBeingFired=[],B.resolve(cr(function(){return v(e.vip)})).then(S)}})}).finally(function(){t.openCanceller===s&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(S){t.dbOpenError=S;try{k&&k.abort()}catch{}return s===t.openCanceller&&e._close(),pe(S)}).finally(function(){t.openComplete=!0,y()}).then(function(){var S;return m&&(S={},e.tables.forEach(function(v){v.schema.indexes.forEach(function(w){w.name&&(S["idb://".concat(e.name,"/").concat(v.name,"/").concat(w.name)]=new _e(-1/0,[[[]]]))}),S["idb://".concat(e.name,"/").concat(v.name,"/")]=S["idb://".concat(e.name,"/").concat(v.name,"/:dels")]=new _e(-1/0,[[[]]])}),et($t).fire(S),pr(S,!0)),e})}function mr(e){function t(l){return e.next(l)}var a=u(t),s=u(function(l){return e.throw(l)});function u(l){return function(g){var h=l(g),g=h.value;return h.done?g:g&&typeof g.then=="function"?g.then(a,s):b(g)?Promise.all(g).then(a,s):a(g)}}return u(t)()}function Sn(e,t,a){for(var s=b(e)?e.slice():[e],u=0;u<a;++u)s.push(t);return s}var gi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return i(i({},e),{table:function(t){var a=e.table(t),s=a.schema,u={},l=[];function d(m,S,v){var w=Wt(m),x=u[w]=u[w]||[],_=m==null?0:typeof m=="string"?1:m.length,P=0<S,P=i(i({},v),{name:P?"".concat(w,"(virtual-from:").concat(v.name,")"):v.name,lowLevelIndex:v,isVirtual:P,keyTail:S,keyLength:_,extractKey:rr(m),unique:!P&&v.unique});return x.push(P),P.isPrimaryKey||l.push(P),1<_&&d(_===2?m[0]:m.slice(0,_-1),S+1,v),x.sort(function(E,M){return E.keyTail-M.keyTail}),P}t=d(s.primaryKey.keyPath,0,s.primaryKey),u[":id"]=[t];for(var h=0,g=s.indexes;h<g.length;h++){var y=g[h];d(y.keyPath,0,y)}function k(m){var S,v=m.query.index;return v.isVirtual?i(i({},m),{query:{index:v.lowLevelIndex,range:(S=m.query.range,v=v.keyTail,{type:S.type===1?2:S.type,lower:Sn(S.lower,S.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:Sn(S.upper,S.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0})}}):m}return i(i({},a),{schema:i(i({},s),{primaryKey:t,indexes:l,getIndexByKeyPath:function(m){return(m=u[Wt(m)])&&m[0]}}),count:function(m){return a.count(k(m))},query:function(m){return a.query(k(m))},openCursor:function(m){var S=m.query.index,v=S.keyTail,w=S.isVirtual,x=S.keyLength;return w?a.openCursor(k(m)).then(function(P){return P&&_(P)}):a.openCursor(m);function _(P){return Object.create(P,{continue:{value:function(E){E!=null?P.continue(Sn(E,m.reverse?e.MAX_KEY:e.MIN_KEY,v)):m.unique?P.continue(P.key.slice(0,x).concat(m.reverse?e.MIN_KEY:e.MAX_KEY,v)):P.continue()}},continuePrimaryKey:{value:function(E,M){P.continuePrimaryKey(Sn(E,e.MAX_KEY,v),M)}},primaryKey:{get:function(){return P.primaryKey}},key:{get:function(){var E=P.key;return x===1?E[0]:E.slice(0,x)}},value:{get:function(){return P.value}}})}}})}})}};function gr(e,t,a,s){return a=a||{},s=s||"",p(e).forEach(function(u){var l,d,h;R(t,u)?(l=e[u],d=t[u],typeof l=="object"&&typeof d=="object"&&l&&d?(h=$e(l))!==$e(d)?a[s+u]=t[u]:h==="Object"?gr(l,d,a,s+u+"."):l!==d&&(a[s+u]=t[u]):l!==d&&(a[s+u]=t[u])):a[s+u]=void 0}),p(t).forEach(function(u){R(e,u)||(a[s+u]=t[u])}),a}function yr(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var yi={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return i(i({},e),{table:function(t){var a=e.table(t),s=a.schema.primaryKey;return i(i({},a),{mutate:function(u){var l=W.trans,d=l.table(t).hook,h=d.deleting,g=d.creating,y=d.updating;switch(u.type){case"add":if(g.fire===oe)break;return l._promise("readwrite",function(){return k(u)},!0);case"put":if(g.fire===oe&&y.fire===oe)break;return l._promise("readwrite",function(){return k(u)},!0);case"delete":if(h.fire===oe)break;return l._promise("readwrite",function(){return k(u)},!0);case"deleteRange":if(h.fire===oe)break;return l._promise("readwrite",function(){return function m(S,v,w){return a.query({trans:S,values:!1,query:{index:s,range:v},limit:w}).then(function(x){var _=x.result;return k({type:"delete",keys:_,trans:S}).then(function(P){return 0<P.numFailures?Promise.reject(P.failures[0]):_.length<w?{failures:[],numFailures:0,lastResult:void 0}:m(S,i(i({},v),{lower:_[_.length-1],lowerOpen:!0}),w)})})}(u.trans,u.range,1e4)},!0)}return a.mutate(u);function k(m){var S,v,w,x=W.trans,_=m.keys||yr(s,m);if(!_)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?i(i({},m),{keys:_}):i({},m)).type!=="delete"&&(m.values=c([],m.values)),m.keys&&(m.keys=c([],m.keys)),S=a,w=_,((v=m).type==="add"?Promise.resolve([]):S.getMany({trans:v.trans,keys:w,cache:"immutable"})).then(function(P){var E=_.map(function(M,j){var L,K,I,T=P[j],F={onerror:null,onsuccess:null};return m.type==="delete"?h.fire.call(F,M,T,x):m.type==="add"||T===void 0?(L=g.fire.call(F,M,m.values[j],x),M==null&&L!=null&&(m.keys[j]=M=L,s.outbound||ie(m.values[j],s.keyPath,M))):(L=gr(T,m.values[j]),(K=y.fire.call(F,L,M,T,x))&&(I=m.values[j],Object.keys(K).forEach(function(N){R(I,N)?I[N]=K[N]:ie(I,N,K[N])}))),F});return a.mutate(m).then(function(M){for(var j=M.failures,L=M.results,K=M.numFailures,M=M.lastResult,I=0;I<_.length;++I){var T=(L||_)[I],F=E[I];T==null?F.onerror&&F.onerror(j[I]):F.onsuccess&&F.onsuccess(m.type==="put"&&P[I]?m.values[I]:T)}return{failures:j,results:L,numFailures:K,lastResult:M}}).catch(function(M){return E.forEach(function(j){return j.onerror&&j.onerror(M)}),Promise.reject(M)})})}}})}})}};function aa(e,t,a){try{if(!t||t.keys.length<e.length)return null;for(var s=[],u=0,l=0;u<t.keys.length&&l<e.length;++u)te(t.keys[u],e[l])===0&&(s.push(a?qe(t.values[u]):t.values[u]),++l);return s.length===e.length?s:null}catch{return null}}var vi={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var a=e.table(t);return i(i({},a),{getMany:function(s){if(!s.cache)return a.getMany(s);var u=aa(s.keys,s.trans._cache,s.cache==="clone");return u?B.resolve(u):a.getMany(s).then(function(l){return s.trans._cache={keys:s.keys,values:s.cache==="clone"?qe(l):l},l})},mutate:function(s){return s.type!=="add"&&(s.trans._cache=null),a.mutate(s)}})}}}};function ia(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function sa(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bi={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,a=new _e(e.MIN_KEY,e.MAX_KEY);return i(i({},e),{transaction:function(s,u,l){if(W.subscr&&u!=="readonly")throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(W.querier));return e.transaction(s,u,l)},table:function(s){var u=e.table(s),l=u.schema,d=l.primaryKey,m=l.indexes,h=d.extractKey,g=d.outbound,y=d.autoIncrement&&m.filter(function(v){return v.compound&&v.keyPath.includes(d.keyPath)}),k=i(i({},u),{mutate:function(v){function w(N){return N="idb://".concat(t,"/").concat(s,"/").concat(N),M[N]||(M[N]=new _e)}var x,_,P,E=v.trans,M=v.mutatedParts||(v.mutatedParts={}),j=w(""),L=w(":dels"),K=v.type,F=v.type==="deleteRange"?[v.range]:v.type==="delete"?[v.keys]:v.values.length<50?[yr(d,v).filter(function(N){return N}),v.values]:[],I=F[0],T=F[1],F=v.trans._cache;return b(I)?(j.addKeys(I),(F=K==="delete"||I.length===T.length?aa(I,F):null)||L.addKeys(I),(F||T)&&(x=w,_=F,P=T,l.indexes.forEach(function(N){var $=x(N.name||"");function Q(ee){return ee!=null?N.extractKey(ee):null}function X(ee){return N.multiEntry&&b(ee)?ee.forEach(function(Ie){return $.addKey(Ie)}):$.addKey(ee)}(_||P).forEach(function(ee,Oe){var H=_&&Q(_[Oe]),Oe=P&&Q(P[Oe]);te(H,Oe)!==0&&(H!=null&&X(H),Oe!=null&&X(Oe))})}))):I?(T={from:(T=I.lower)!==null&&T!==void 0?T:e.MIN_KEY,to:(T=I.upper)!==null&&T!==void 0?T:e.MAX_KEY},L.add(T),j.add(T)):(j.add(a),L.add(a),l.indexes.forEach(function(N){return w(N.name).add(a)})),u.mutate(v).then(function(N){return!I||v.type!=="add"&&v.type!=="put"||(j.addKeys(N.results),y&&y.forEach(function($){for(var Q=v.values.map(function(H){return $.extractKey(H)}),X=$.keyPath.findIndex(function(H){return H===d.keyPath}),ee=0,Ie=N.results.length;ee<Ie;++ee)Q[ee][X]=N.results[ee];w($.name).addKeys(Q)})),E.mutatedParts=_n(E.mutatedParts||{},M),N})}}),m=function(w){var x=w.query,w=x.index,x=x.range;return[w,new _e((w=x.lower)!==null&&w!==void 0?w:e.MIN_KEY,(x=x.upper)!==null&&x!==void 0?x:e.MAX_KEY)]},S={get:function(v){return[d,new _e(v.key)]},getMany:function(v){return[d,new _e().addKeys(v.keys)]},count:m,query:m,openCursor:m};return p(S).forEach(function(v){k[v]=function(w){var x=W.subscr,_=!!x,P=ia(W,u)&&sa(v,w)?w.obsSet={}:x;if(_){var E=function(T){return T="idb://".concat(t,"/").concat(s,"/").concat(T),P[T]||(P[T]=new _e)},M=E(""),j=E(":dels"),x=S[v](w),_=x[0],x=x[1];if((v==="query"&&_.isPrimaryKey&&!w.values?j:E(_.name||"")).add(x),!_.isPrimaryKey){if(v!=="count"){var L=v==="query"&&g&&w.values&&u.query(i(i({},w),{values:!1}));return u[v].apply(this,arguments).then(function(T){if(v==="query"){if(g&&w.values)return L.then(function(Q){return Q=Q.result,M.addKeys(Q),T});var F=w.values?T.result.map(h):T.result;(w.values?M:j).addKeys(F)}else if(v==="openCursor"){var N=T,$=w.values;return N&&Object.create(N,{key:{get:function(){return j.addKey(N.primaryKey),N.key}},primaryKey:{get:function(){var Q=N.primaryKey;return j.addKey(Q),Q}},value:{get:function(){return $&&M.addKey(N.primaryKey),N.value}}})}return T})}j.add(a)}}return u[v].apply(this,arguments)}}),k}})}};function oa(e,t,a){if(a.numFailures===0)return t;if(t.type==="deleteRange")return null;var s=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return a.numFailures===s?null:(t=i({},t),b(t.keys)&&(t.keys=t.keys.filter(function(u,l){return!(l in a.failures)})),"values"in t&&b(t.values)&&(t.values=t.values.filter(function(u,l){return!(l in a.failures)})),t)}function vr(e,t){return a=e,((s=t).lower===void 0||(s.lowerOpen?0<te(a,s.lower):0<=te(a,s.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?te(e,t.upper)<0:te(e,t.upper)<=0));var a,s}function ua(e,t,S,s,u,l){if(!S||S.length===0)return e;var d=t.query.index,h=d.multiEntry,g=t.query.range,y=s.schema.primaryKey.extractKey,k=d.extractKey,m=(d.lowLevelIndex||d).extractKey,S=S.reduce(function(v,w){var x=v,_=[];if(w.type==="add"||w.type==="put")for(var P=new _e,E=w.values.length-1;0<=E;--E){var M,j=w.values[E],L=y(j);P.hasKey(L)||(M=k(j),(h&&b(M)?M.some(function(N){return vr(N,g)}):vr(M,g))&&(P.addKey(L),_.push(j)))}switch(w.type){case"add":var K=new _e().addKeys(t.values?v.map(function($){return y($)}):v),x=v.concat(t.values?_.filter(function($){return $=y($),!K.hasKey($)&&(K.addKey($),!0)}):_.map(function($){return y($)}).filter(function($){return!K.hasKey($)&&(K.addKey($),!0)}));break;case"put":var I=new _e().addKeys(w.values.map(function($){return y($)}));x=v.filter(function($){return!I.hasKey(t.values?y($):$)}).concat(t.values?_:_.map(function($){return y($)}));break;case"delete":var T=new _e().addKeys(w.keys);x=v.filter(function($){return!T.hasKey(t.values?y($):$)});break;case"deleteRange":var F=w.range;x=v.filter(function($){return!vr(y($),F)})}return x},e);return S===e?e:(S.sort(function(v,w){return te(m(v),m(w))||te(y(v),y(w))}),t.limit&&t.limit<1/0&&(S.length>t.limit?S.length=t.limit:e.length===t.limit&&S.length<t.limit&&(u.dirty=!0)),l?Object.freeze(S):S)}function ca(e,t){return te(e.lower,t.lower)===0&&te(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function wi(e,t){return function(a,s,u,l){if(a===void 0)return s!==void 0?-1:0;if(s===void 0)return 1;if((s=te(a,s))===0){if(u&&l)return 0;if(u)return 1;if(l)return-1}return s}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(a,s,u,l){if(a===void 0)return s!==void 0?1:0;if(s===void 0)return-1;if((s=te(a,s))===0){if(u&&l)return 0;if(u)return-1;if(l)return 1}return s}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function xi(e,t,a,s){e.subscribers.add(a),s.addEventListener("abort",function(){var u,l;e.subscribers.delete(a),e.subscribers.size===0&&(u=e,l=t,setTimeout(function(){u.subscribers.size===0&&he(l,u)},3e3))})}var ki={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return i(i({},e),{transaction:function(a,s,u){var l,d,h=e.transaction(a,s,u);return s==="readwrite"&&(d=(l=new AbortController).signal,u=function(g){return function(){if(l.abort(),s==="readwrite"){for(var y=new Set,k=0,m=a;k<m.length;k++){var S=m[k],v=ht["idb://".concat(t,"/").concat(S)];if(v){var w=e.table(S),x=v.optimisticOps.filter(function($){return $.trans===h});if(h._explicit&&g&&h.mutatedParts)for(var _=0,P=Object.values(v.queries.query);_<P.length;_++)for(var E=0,M=(K=P[_]).slice();E<M.length;E++)fr((I=M[E]).obsSet,h.mutatedParts)&&(he(K,I),I.subscribers.forEach(function($){return y.add($)}));else if(0<x.length){v.optimisticOps=v.optimisticOps.filter(function($){return $.trans!==h});for(var j=0,L=Object.values(v.queries.query);j<L.length;j++)for(var K,I,T,F=0,N=(K=L[j]).slice();F<N.length;F++)(I=N[F]).res!=null&&h.mutatedParts&&(g&&!I.dirty?(T=Object.isFrozen(I.res),T=ua(I.res,I.req,x,w,I,T),I.dirty?(he(K,I),I.subscribers.forEach(function($){return y.add($)})):T!==I.res&&(I.res=T,I.promise=B.resolve({result:T}))):(I.dirty&&he(K,I),I.subscribers.forEach(function($){return y.add($)})))}}}y.forEach(function($){return $()})}}},h.addEventListener("abort",u(!1),{signal:d}),h.addEventListener("error",u(!1),{signal:d}),h.addEventListener("complete",u(!0),{signal:d})),h},table:function(a){var s=e.table(a),u=s.schema.primaryKey;return i(i({},s),{mutate:function(l){var d=W.trans;if(u.outbound||d.db._options.cache==="disabled"||d.explicit||d.idbtrans.mode!=="readwrite")return s.mutate(l);var h=ht["idb://".concat(t,"/").concat(a)];return h?(d=s.mutate(l),l.type!=="add"&&l.type!=="put"||!(50<=l.values.length||yr(u,l).some(function(g){return g==null}))?(h.optimisticOps.push(l),l.mutatedParts&&On(l.mutatedParts),d.then(function(g){0<g.numFailures&&(he(h.optimisticOps,l),(g=oa(0,l,g))&&h.optimisticOps.push(g),l.mutatedParts&&On(l.mutatedParts))}),d.catch(function(){he(h.optimisticOps,l),l.mutatedParts&&On(l.mutatedParts)})):d.then(function(g){var y=oa(0,i(i({},l),{values:l.values.map(function(k,m){var S;return g.failures[m]?k:(k=(S=u.keyPath)!==null&&S!==void 0&&S.includes(".")?qe(k):i({},k),ie(k,u.keyPath,g.results[m]),k)})}),g);h.optimisticOps.push(y),queueMicrotask(function(){return l.mutatedParts&&On(l.mutatedParts)})}),d):s.mutate(l)},query:function(l){if(!ia(W,s)||!sa("query",l))return s.query(l);var d=((y=W.trans)===null||y===void 0?void 0:y.db._options.cache)==="immutable",m=W,h=m.requery,g=m.signal,y=function(w,x,_,P){var E=ht["idb://".concat(w,"/").concat(x)];if(!E)return[];if(!(x=E.queries[_]))return[null,!1,E,null];var M=x[(P.query?P.query.index.name:null)||""];if(!M)return[null,!1,E,null];switch(_){case"query":var j=M.find(function(L){return L.req.limit===P.limit&&L.req.values===P.values&&ca(L.req.query.range,P.query.range)});return j?[j,!0,E,M]:[M.find(function(L){return("limit"in L.req?L.req.limit:1/0)>=P.limit&&(!P.values||L.req.values)&&wi(L.req.query.range,P.query.range)}),!1,E,M];case"count":return j=M.find(function(L){return ca(L.req.query.range,P.query.range)}),[j,!!j,E,M]}}(t,a,"query",l),k=y[0],m=y[1],S=y[2],v=y[3];return k&&m?k.obsSet=l.obsSet:(m=s.query(l).then(function(w){var x=w.result;if(k&&(k.res=x),d){for(var _=0,P=x.length;_<P;++_)Object.freeze(x[_]);Object.freeze(x)}else w.result=qe(x);return w}).catch(function(w){return v&&k&&he(v,k),Promise.reject(w)}),k={obsSet:l.obsSet,promise:m,subscribers:new Set,type:"query",req:l,dirty:!1},v?v.push(k):(v=[k],(S=S||(ht["idb://".concat(t,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[l.query.index.name||""]=v)),xi(k,v,h,g),k.promise.then(function(w){return{result:ua(w.result,l,S==null?void 0:S.optimisticOps,s,k,d)}})}})}})}};function Pn(e,t){return new Proxy(e,{get:function(a,s,u){return s==="db"?t:Reflect.get(a,s,u)}})}var We=(me.prototype.version=function(e){if(isNaN(e)||e<.1)throw new U.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,a=t.filter(function(s){return s._cfg.version===e})[0];return a||(a=new this.Version(e),t.push(a),t.sort(fi),a.stores({}),this._state.autoSchema=!1,a)},me.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||W.letThrough||this._vip)?e():new B(function(a,s){if(t._state.openComplete)return s(new U.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void s(new U.DatabaseClosed);t.open().catch(oe)}t._state.dbReadyPromise.then(a,s)}).then(e)},me.prototype.use=function(e){var t=e.stack,a=e.create,s=e.level,u=e.name;return u&&this.unuse({stack:t,name:u}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:a,level:s??10,name:u}),e.sort(function(l,d){return l.level-d.level}),this},me.prototype.unuse=function(e){var t=e.stack,a=e.name,s=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(u){return s?u.create!==s:!!a&&u.name!==a})),this},me.prototype.open=function(){var e=this;return lt(Qe,function(){return mi(e)})},me.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=Ot.indexOf(this);if(0<=t&&Ot.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new B(function(a){e.dbReadyResolve=a}),e.openCanceller=new B(function(a,s){e.cancelOpen=s}))},me.prototype.close=function(a){var t=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;t?(a.isBeingOpened&&a.cancelOpen(new U.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new U.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},me.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",s=this._state;return new B(function(u,l){function d(){t.close(e);var h=t._deps.indexedDB.deleteDatabase(t.name);h.onsuccess=fe(function(){var g,y,k;g=t._deps,y=t.name,k=g.indexedDB,g=g.IDBKeyRange,ur(k)||y===fn||or(k,g).delete(y).catch(oe),u()}),h.onerror=Ke(l),h.onblocked=t._fireOnBlocked}if(a)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");s.isBeingOpened?s.dbReadyPromise.then(d):d()})},me.prototype.backendDB=function(){return this.idbdb},me.prototype.isOpen=function(){return this.idbdb!==null},me.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},me.prototype.hasFailed=function(){return this._state.dbOpenError!==null},me.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(me.prototype,"tables",{get:function(){var e=this;return p(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),me.prototype.transaction=function(){var e=(function(t,a,s){var u=arguments.length;if(u<2)throw new U.InvalidArgument("Too few arguments");for(var l=new Array(u-1);--u;)l[u-1]=arguments[u];return s=l.pop(),[t,At(l),s]}).apply(this,arguments);return this._transaction.apply(this,e)},me.prototype._transaction=function(e,t,a){var s=this,u=W.trans;u&&u.db===this&&e.indexOf("!")===-1||(u=null);var l,d,h=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(d=t.map(function(y){if(y=y instanceof s.Table?y.name:y,typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),e=="r"||e===Gn)l=Gn;else{if(e!="rw"&&e!=Jn)throw new U.InvalidArgument("Invalid transaction mode: "+e);l=Jn}if(u){if(u.mode===Gn&&l===Jn){if(!h)throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&d.forEach(function(y){if(u&&u.storeNames.indexOf(y)===-1){if(!h)throw new U.SubTransaction("Table "+y+" not included in parent transaction.");u=null}}),h&&u&&!u.active&&(u=null)}}catch(y){return u?u._promise(null,function(k,m){m(y)}):pe(y)}var g=(function y(k,m,S,v,w){return B.resolve().then(function(){var x=W.transless||W,_=k._createTransaction(m,S,k._dbSchema,v);if(_.explicit=!0,x={trans:_,transless:x},v)_.idbtrans=v.idbtrans;else try{_.create(),_.idbtrans._explicit=!0,k._state.PR1398_maxLoop=3}catch(M){return M.name===Bn.InvalidState&&k.isOpen()&&0<--k._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),k.close({disableAutoOpen:!1}),k.open().then(function(){return y(k,m,S,null,w)})):pe(M)}var P,E=vt(w);return E&&_t(),x=B.follow(function(){var M;(P=w.call(_,_))&&(E?(M=Je.bind(null,null),P.then(M,M)):typeof P.next=="function"&&typeof P.throw=="function"&&(P=mr(P)))},x),(P&&typeof P.then=="function"?B.resolve(P).then(function(M){return _.active?M:pe(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):x.then(function(){return P})).then(function(M){return v&&_._resolve(),_._completion.then(function(){return M})}).catch(function(M){return _._reject(M),pe(M)})})}).bind(null,this,l,d,u,a);return u?u._promise(l,g,"lock"):W.trans?lt(W.transless,function(){return s._whenReady(g)}):this._whenReady(g)},me.prototype.table=function(e){if(!R(this._allTables,e))throw new U.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},me);function me(e,t){var a=this;this._middlewares={},this.verno=0;var s=me.dependencies;this._options=t=i({addons:me.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},s=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,l,d,h,g,y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:oe,dbReadyPromise:null,cancelOpen:oe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};y.dbReadyPromise=new B(function(m){y.dbReadyResolve=m}),y.openCanceller=new B(function(m,S){y.cancelOpen=S}),this._state=y,this.name=e,this.on=Ft(this,"populate","blocked","versionchange","close",{ready:[qn,oe]}),this.once=function(m,S){var v=function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];a.on(m).unsubscribe(v),S.apply(a,w)};return a.on(m,v)},this.on.ready.subscribe=ze(this.on.ready.subscribe,function(m){return function(S,v){me.vip(function(){var w,x=a._state;x.openComplete?(x.dbOpenError||B.resolve().then(S),v&&m(S)):x.onReadyBeingFired?(x.onReadyBeingFired.push(S),v&&m(S)):(m(S),w=a,v||m(function _(){w.on.ready.unsubscribe(S),w.on.ready.unsubscribe(_)}))})}}),this.Collection=(u=this,Bt(ai.prototype,function(P,_){this.db=u;var v=Kr,w=null;if(_)try{v=_()}catch(E){w=E}var x=P._ctx,_=x.table,P=_.hook.reading.fire;this._ctx={table:_,index:x.index,isPrimKey:!x.index||_.schema.primKey.keyPath&&x.index===_.schema.primKey.name,range:v,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:w,or:x.or,valueMapper:P!==Rt?P:null}})),this.Table=(l=this,Bt(Wr.prototype,function(m,S,v){this.db=l,this._tx=v,this.name=m,this.schema=S,this.hook=l._allTables[m]?l._allTables[m].hook:Ft(null,{creating:[Qa,oe],reading:[Ha,Rt],updating:[Ja,oe],deleting:[Ga,oe]})})),this.Transaction=(d=this,Bt(oi.prototype,function(m,S,v,w,x){var _=this;m!=="readonly"&&S.forEach(function(P){P=(P=v[P])===null||P===void 0?void 0:P.yProps,P&&(S=S.concat(P.map(function(E){return E.updatesTable})))}),this.db=d,this.mode=m,this.storeNames=S,this.schema=v,this.chromeTransactionDurability=w,this.idbtrans=null,this.on=Ft(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B(function(P,E){_._resolve=P,_._reject=E}),this._completion.then(function(){_.active=!1,_.on.complete.fire()},function(P){var E=_.active;return _.active=!1,_.on.error.fire(P),_.parent?_.parent._reject(P):E&&_.idbtrans&&_.idbtrans.abort(),pe(P)})})),this.Version=(h=this,Bt(pi.prototype,function(m){this.db=h,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(g=this,Bt(Qr.prototype,function(m,S,v){if(this.db=g,this._ctx={table:m,index:S===":id"?null:S,or:v},this._cmp=this._ascending=te,this._descending=function(w,x){return te(x,w)},this._max=function(w,x){return 0<te(w,x)?w:x},this._min=function(w,x){return te(w,x)<0?w:x},this._IDBKeyRange=g._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})),this.on("versionchange",function(m){0<m.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(m){!m.newVersion||m.newVersion<m.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(m.oldVersion/10))}),this._maxKey=Vt(t.IDBKeyRange),this._createTransaction=function(m,S,v,w){return new a.Transaction(m,S,v,a._options.chromeTransactionDurability,w)},this._fireOnBlocked=function(m){a.on("blocked").fire(m),Ot.filter(function(S){return S.name===a.name&&S!==a&&!S._state.vcFired}).map(function(S){return S.on("versionchange").fire(m)})},this.use(vi),this.use(ki),this.use(bi),this.use(gi),this.use(yi);var k=new Proxy(this,{get:function(m,S,v){if(S==="_vip")return!0;if(S==="table")return function(x){return Pn(a.table(x),k)};var w=Reflect.get(m,S,v);return w instanceof Wr?Pn(w,k):S==="tables"?w.map(function(x){return Pn(x,k)}):S==="_createTransaction"?function(){return Pn(w.apply(this,arguments),k)}:w}});this.vip=k,s.forEach(function(m){return m(a)})}var En,Le=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_i=(br.prototype.subscribe=function(e,t,a){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:a})},br.prototype[Le]=function(){return this},br);function br(e){this._subscribe=e}try{En={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{En={indexedDB:null,IDBKeyRange:null}}function la(e){var t,a=!1,s=new _i(function(u){var l=vt(e),d,h=!1,g={},y={},k={get closed(){return h},unsubscribe:function(){h||(h=!0,d&&d.abort(),m&&et.storagemutated.unsubscribe(v))}};u.start&&u.start(k);var m=!1,S=function(){return Qn(w)},v=function(x){_n(g,x),fr(y,g)&&S()},w=function(){var x,_,P;!h&&En.indexedDB&&(g={},x={},d&&d.abort(),d=new AbortController,P=function(E){var M=xt();try{l&&_t();var j=Ge(e,E);return j=l?j.finally(Je):j}finally{M&&kt()}}(_={subscr:x,signal:d.signal,requery:S,querier:e,trans:null}),Promise.resolve(P).then(function(E){a=!0,t=E,h||_.signal.aborted||(g={},function(M){for(var j in M)if(R(M,j))return;return 1}(y=x)||m||(et($t,v),m=!0),Qn(function(){return!h&&u.next&&u.next(E)}))},function(E){a=!1,["DatabaseClosedError","AbortError"].includes(E==null?void 0:E.name)||h||Qn(function(){h||u.error&&u.error(E)})}))};return setTimeout(S,0),k});return s.hasValue=function(){return a},s.getValue=function(){return t},s}var pt=We;function wr(e){var t=tt;try{tt=!0,et.storagemutated.fire(e),pr(e,!0)}finally{tt=t}}D(pt,i(i({},tn),{delete:function(e){return new pt(e,{addons:[]}).delete()},exists:function(e){return new pt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=pt.dependencies,a=t.indexedDB,t=t.IDBKeyRange,(ur(a)?Promise.resolve(a.databases()).then(function(s){return s.map(function(u){return u.name}).filter(function(u){return u!==fn})}):or(a,t).toCollection().primaryKeys()).then(e)}catch{return pe(new U.MissingAPI)}var t,a},defineClass:function(){return function(e){O(this,e)}},ignoreTransaction:function(e){return W.trans?lt(W.transless,e):e()},vip:cr,async:function(e){return function(){try{var t=mr(e.apply(this,arguments));return t&&typeof t.then=="function"?t:B.resolve(t)}catch(a){return pe(a)}}},spawn:function(e,t,a){try{var s=mr(e.apply(a,t||[]));return s&&typeof s.then=="function"?s:B.resolve(s)}catch(u){return pe(u)}},currentTransaction:{get:function(){return W.trans||null}},waitFor:function(e,t){return t=B.resolve(typeof e=="function"?pt.ignoreTransaction(e):e).timeout(t||6e4),W.trans?W.trans.waitFor(t):t},Promise:B,debug:{get:function(){return Ne},set:function(e){jr(e)}},derive:Y,extend:O,props:D,override:ze,Events:Ft,on:et,liveQuery:la,extendObservabilitySet:_n,getByKeyPath:de,setByKeyPath:ie,delByKeyPath:function(e,t){typeof t=="string"?ie(e,t,void 0):"length"in t&&[].map.call(t,function(a){ie(e,a,void 0)})},shallowClone:rt,deepClone:qe,getObjectDiff:gr,cmp:te,asap:ke,minKey:-1/0,addons:[],connections:Ot,errnames:Bn,dependencies:En,cache:ht,semVer:"4.2.1",version:"4.2.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,a){return e+t/Math.pow(10,2*a)})})),pt.maxKey=Vt(pt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(et($t,function(e){tt||(e=new CustomEvent(er,{detail:e}),tt=!0,dispatchEvent(e),tt=!1)}),addEventListener(er,function(e){e=e.detail,tt||wr(e)}));var Ct,tt=!1,fa=function(){};return typeof BroadcastChannel<"u"&&((fa=function(){(Ct=new BroadcastChannel(er)).onmessage=function(e){return e.data&&wr(e.data)}})(),typeof Ct.unref=="function"&&Ct.unref(),et($t,function(e){tt||Ct.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!We.disableBfCache&&e.persisted){Ne&&console.debug("Dexie: handling persisted pagehide"),Ct!=null&&Ct.close();for(var t=0,a=Ot;t<a.length;t++)a[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!We.disableBfCache&&e.persisted&&(Ne&&console.debug("Dexie: handling persisted pageshow"),fa(),wr({all:new _e(-1/0,[[]])}))})),B.rejectionMapper=function(e,t){return!e||e instanceof bt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Mr[e.name]?e:(t=new Mr[e.name](t||e.message,e),"stack"in e&&q(t,"stack",{get:function(){return this.inner.stack}}),t)},jr(Ne),i(We,Object.freeze({__proto__:null,Dexie:We,liveQuery:la,Entity:Fr,cmp:te,PropModification:Kt,replacePrefix:function(e,t){return new Kt({replacePrefix:[e,t]})},add:function(e){return new Kt({add:e})},remove:function(e){return new Kt({remove:e})},default:We,RangeSet:_e,mergeRanges:zt,rangesOverlap:ea}),{default:We}),We})})(Ua);var xo=Ua.exports;const Cr=ji(xo),Ia=Symbol.for("Dexie"),Tn=globalThis[Ia]||(globalThis[Ia]=Cr);if(Cr.semVer!==Tn.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Cr.semVer} and ${Tn.semVer}`);const{liveQuery:gu,mergeRanges:yu,rangesOverlap:vu,RangeSet:bu,cmp:wu,Entity:xu,PropModification:ku,replacePrefix:_u,add:Ou,remove:Su,DexieYProvider:Pu}=Tn;class ko extends Tn{constructor(){super("ub-notion-db");Pe(this,"projects");Pe(this,"tasks");Pe(this,"sprints");Pe(this,"studies");Pe(this,"content");Pe(this,"areas");Pe(this,"goals");Pe(this,"habits");Pe(this,"notes");Pe(this,"resources");Pe(this,"meetings");Pe(this,"contacts");Pe(this,"calendar");Pe(this,"journal");Pe(this,"outbox");this.version(3).stores({projects:"id, name, status",tasks:"id, title, status, projectId, sprintId, dueDate",sprints:"id, name, startDate, endDate",studies:"id, name, status, dueDate",content:"id, title, status, projectId, dueDate",areas:"id, name, status",goals:"id, title, areaId, status, dueDate",habits:"id, title, areaId, cadence",notes:"id, title, areaId, lastEdited",resources:"id, title, areaId, category",meetings:"id, date, projectId",contacts:"id, name, status",calendar:"id, date, category",journal:"id, date",outbox:"++id, type, ts"})}}const re=new ko,J=new Date,_o=[{id:"proj-brand-refresh",name:"Brand & App Refresh",status:"Active",priority:"Alta",startDate:G(Z(J,-21),"yyyy-MM-dd"),endDate:G(Z(J,30),"yyyy-MM-dd"),progress:48,risk:"Medio",program:"Estrategia digital"},{id:"proj-growth-labs",name:"Growth Labs 2025",status:"Plan",priority:"Media",startDate:G(Z(J,14),"yyyy-MM-dd"),endDate:G(Z(J,60),"yyyy-MM-dd"),budget:12e4,risk:"Bajo",program:"Innovación"},{id:"proj-support-ai",name:"AI Support Automation",status:"At Risk",priority:"Alta",startDate:G(Z(J,-7),"yyyy-MM-dd"),endDate:G(Z(J,45),"yyyy-MM-dd"),progress:22,risk:"Alto",program:"Operaciones"}],Oo=[{id:"task-design-system",title:"Actualizar tokens del diseño para modo oscuro",status:"In Progress",priority:"Alta",assignee:"Ana López",projectId:"proj-brand-refresh",sprintId:"sprint-oct",dueDate:G(Z(J,5),"yyyy-MM-dd"),tags:["Design System","UI"],startDate:G(Z(J,-6),"yyyy-MM-dd")},{id:"task-accessibility-audit",title:"Auditoría de accesibilidad WCAG AA",status:"Review",priority:"Alta",assignee:"Carlos Pérez",projectId:"proj-brand-refresh",sprintId:"sprint-oct",dueDate:G(Z(J,2),"yyyy-MM-dd"),tags:["A11y"],estimateHours:16},{id:"task-onboarding-flow",title:"Rediseñar onboarding mobile",status:"To Do",priority:"Media",assignee:"María Estrada",projectId:"proj-growth-labs",sprintId:"sprint-nov",dueDate:G(Z(J,21),"yyyy-MM-dd"),tags:["UX Research","Mobile"],dependencies:["task-design-system"]},{id:"task-playbook-ai",title:"Documentar playbook de respuesta inteligente",status:"In Progress",priority:"Alta",assignee:"Laura Gómez",projectId:"proj-support-ai",sprintId:"sprint-oct",dueDate:G(Z(J,9),"yyyy-MM-dd"),tags:["AI","CX"]},{id:"task-metrics-dashboard",title:"Dashboard de métricas para Growth Labs",status:"Done",priority:"Media",assignee:"Javier Ortiz",projectId:"proj-growth-labs",sprintId:"sprint-sep",dueDate:G(Z(J,-3),"yyyy-MM-dd"),endDate:G(Z(J,-4),"yyyy-MM-dd"),tags:["Data","BI"]},{id:"task-qa-automation",title:"Configurar pruebas E2E críticas",status:"Review",priority:"Alta",assignee:"Luis Ramírez",projectId:"proj-support-ai",sprintId:"sprint-oct",dueDate:G(Z(J,4),"yyyy-MM-dd"),tags:["QA","Automation"]}],So=[{id:"sprint-sep",name:"Sprint Septiembre",startDate:G(Z(J,-35),"yyyy-MM-dd"),endDate:G(Z(J,-21),"yyyy-MM-dd"),capacityHours:240},{id:"sprint-oct",name:"Sprint Octubre",startDate:G(Z(J,-7),"yyyy-MM-dd"),endDate:G(Z(J,7),"yyyy-MM-dd"),capacityHours:260},{id:"sprint-nov",name:"Sprint Noviembre",startDate:G(Z(J,14),"yyyy-MM-dd"),endDate:G(Z(J,28),"yyyy-MM-dd"),capacityHours:250}],Po=[{id:"study-ux-helios",name:"Benchmark UX helicoidal",kind:"Benchmark",status:"En curso",priority:"Alta",reach:3,impact:3,confidence:2,effort:2,startDate:G(Z(J,-10),"yyyy-MM-dd"),dueDate:G(Z(J,10),"yyyy-MM-dd"),summary:"Comparativa de flujos clave en apps líderes EU/Latam.",tags:["Benchmark","Mobile"]},{id:"study-ux-latam",name:"Diarios de uso Latinoamérica",kind:"UX Research",status:"Idea",priority:"Media",reach:2,impact:3,confidence:2,effort:3,tags:["Research"]}],Eo=[{id:"content-design-kit",title:"Kit de diseño ub-notion 2025",kind:"Documento",status:"Revisión",projectId:"proj-brand-refresh",dueDate:G(Z(J,12),"yyyy-MM-dd"),owner:"Ana López",url:"https://example.com/design-kit"},{id:"content-ai-demo",title:"Demo interactiva IA soporte",kind:"Presentación",status:"Borrador",projectId:"proj-support-ai",owner:"Laura Gómez"}],Co=[{id:"area-product",name:"Producto",icon:"🚀",vision:"Lanzar experiencias memorables",focus:"Reducir churn",status:"Active"},{id:"area-crecimiento",name:"Crecimiento",icon:"📈",vision:"Duplicar adquisición orgánica",focus:"SEO & Contenido",status:"Active"},{id:"area-personal",name:"Personal",icon:"🌱",vision:"Vida equilibrada",focus:"Bienestar",status:"Active"}],Do=[{id:"goal-nps",title:"Elevar NPS a 60",areaId:"area-product",status:"In Progress",dueDate:G(Z(J,75),"yyyy-MM-dd"),impact:4,confidence:3,progress:40,horizon:"Q4"},{id:"goal-seo",title:"Top 3 en keywords core",areaId:"area-crecimiento",status:"In Progress",dueDate:G(Z(J,50),"yyyy-MM-dd"),impact:5,confidence:3,progress:55,horizon:"Q4"},{id:"goal-healthy",title:"Entrenar 4 días por semana",areaId:"area-personal",status:"In Progress",impact:3,confidence:4,progress:60,horizon:"Year"}],Mo=[{id:"habit-standup",title:"Daily Standup",cadence:"Daily",areaId:"area-product",metric:"Cumplimiento",streak:12,lastChecked:G(J,"yyyy-MM-dd")},{id:"habit-writing",title:"Escribir 500 palabras",cadence:"Daily",areaId:"area-crecimiento",metric:"Palabras",streak:6,lastChecked:G(Z(J,-1),"yyyy-MM-dd")},{id:"habit-yoga",title:"Yoga matutino",cadence:"Weekly",areaId:"area-personal",metric:"Sesiones",streak:4,lastChecked:G(Z(J,-2),"yyyy-MM-dd")}],jo=[{id:"note-roadmap",title:"Principios de Roadmap",areaId:"area-product",summary:"Lineamientos para priorizar features.",tags:["roadmap","prioritización"],lastEdited:G(Z(J,-5),"yyyy-MM-dd")},{id:"note-brand",title:"Narrativa de marca 2025",areaId:"area-crecimiento",summary:"Mensajes y pilares clave.",tags:["brand","storytelling"],lastEdited:G(Z(J,-2),"yyyy-MM-dd")},{id:"note-rutina",title:"Rutina matutina ideal",areaId:"area-personal",summary:"Checklist para iniciar el día.",tags:["hábitos"],lastEdited:G(Z(J,-1),"yyyy-MM-dd")}],Ao=[{id:"resource-brief",title:"Brief UX Onboarding",category:"UX",url:"https://example.com/brief.pdf",owner:"María Estrada",tags:["ux","onboarding"],areaId:"area-product"},{id:"resource-growth",title:"Playbook de Growth",category:"Estrategia",url:"https://example.com/growth",owner:"Carlos Pérez",tags:["growth"],areaId:"area-crecimiento"},{id:"resource-salud",title:"Plan Nutricional",category:"Salud",owner:"Laura Gómez",tags:["health"],areaId:"area-personal"}],Ro=[{id:"meet-product",title:"Weekly Product Sync",date:G(Z(J,-1),"yyyy-MM-dd"),attendees:["Ana","Carlos","Laura"],notes:"Alinear roadmap Q4",followUps:["Ana: mockups v2","Carlos: analizar métricas"],projectId:"proj-brand-refresh"},{id:"meet-growth",title:"Growth Office Hours",date:G(Z(J,-3),"yyyy-MM-dd"),attendees:["María","Javier"],notes:"Planificar experimentos SEO",followUps:["María: keyword gap"],projectId:"proj-growth-labs"}],Io=[{id:"contact-1",name:"Sofía Ríos",company:"Acme Corp",role:"CTO",status:"Active",lastContact:G(Z(J,-5),"yyyy-MM-dd"),nextStep:"Enviar demo IA",tags:["enterprise","alto valor"]},{id:"contact-2",name:"Tomás Vidal",company:"Startify",role:"Founder",status:"Lead",lastContact:G(Z(J,-2),"yyyy-MM-dd"),nextStep:"Agendar workshop",tags:["startup"]},{id:"contact-3",name:"Lucía Herrera",company:"ConsultingX",role:"Product Lead",status:"Dormant",lastContact:G(Z(J,-40),"yyyy-MM-dd"),nextStep:"Enviar novedades",tags:["partner"]}],Lo=[{id:"event-weekly-review",title:"Weekly Review",date:G(Z(J,1),"yyyy-MM-dd"),category:"Review"},{id:"event-goals",title:"Goal Planning",date:G(Z(J,7),"yyyy-MM-dd"),category:"Planning"},{id:"event-focus",title:"Deep Work Sprint",date:G(Z(J,2),"yyyy-MM-dd"),category:"Focus",relatedTaskId:"task-design-system"}],To=[{id:"journal-today",date:G(J,"yyyy-MM-dd"),mood:"Bien",highlights:"Presentación con equipo de growth",challenges:"Bloqueo técnico en automatización",reflections:"Mantener foco y delegar QA"},{id:"journal-yesterday",date:G(Z(J,-1),"yyyy-MM-dd"),mood:"Excelente",highlights:"Sprint review positiva",challenges:"Muchas reuniones",reflections:"Bloquear mañana para deep work"}];let La=!1;async function No(){if(La||typeof window>"u"||!("indexedDB"in window))return;const[o,n,r,i,c,f,p,b,O,C,A,R,D,V]=await Promise.all([re.projects.count(),re.tasks.count(),re.sprints.count(),re.studies.count(),re.content.count(),re.areas.count(),re.goals.count(),re.habits.count(),re.notes.count(),re.resources.count(),re.meetings.count(),re.contacts.count(),re.calendar.count(),re.journal.count()]),q=[];o===0&&q.push(re.projects.bulkAdd(_o)),n===0&&q.push(re.tasks.bulkAdd(Oo)),r===0&&q.push(re.sprints.bulkAdd(So)),i===0&&q.push(re.studies.bulkAdd(Po)),c===0&&q.push(re.content.bulkAdd(Eo)),f===0&&q.push(re.areas.bulkAdd(Co)),p===0&&q.push(re.goals.bulkAdd(Do)),b===0&&q.push(re.habits.bulkAdd(Mo)),O===0&&q.push(re.notes.bulkAdd(jo)),C===0&&q.push(re.resources.bulkAdd(Ao)),A===0&&q.push(re.meetings.bulkAdd(Ro)),R===0&&q.push(re.contacts.bulkAdd(Io)),D===0&&q.push(re.calendar.bulkAdd(Lo)),V===0&&q.push(re.journal.bulkAdd(To)),q.length&&await Promise.all(q),La=!0}async function Ta(o){await re.outbox.add({...o,ts:Date.now()})}async function Ko(o=50){const n=await re.outbox.orderBy("id").limit(o).toArray();return await re.outbox.bulkDelete(n.map(r=>r.id)),n}const Fo="/api";async function Bo(o,n){const r=await fetch(Fo+o,{...n,headers:{"Content-Type":"application/json",...(n==null?void 0:n.headers)||{}}});if(!r.ok)throw new Error(`API ${r.status}`);return r.json()}let Sr=!1,Na;const qo=typeof window<"u";function $o(){return typeof navigator>"u"?!0:navigator.onLine}async function Mn(){if(!Sr){Sr=!0;try{const o=await Ko(100);for(const n of o)try{if(!$o()){await Ta(n);continue}await Bo("/sync",{method:"POST",body:JSON.stringify(n)})}catch(r){console.error("Sync failed on item, requeue",r),await Ta(n)}}finally{Sr=!1}}}function Vo(o=5e3){if(!qo||Na)return;Na=window.setInterval(Mn,o),Mn();const n=()=>{document.visibilityState==="visible"&&Mn()};window.addEventListener("online",Mn),document.addEventListener("visibilitychange",n)}const Wo=be.lazy(()=>xe(()=>import("./App-8vmMMb2D.js"),__vite__mapDeps([0,1,2]))),Uo=be.lazy(()=>xe(()=>import("./Dashboard-DgJ51mXp.js"),__vite__mapDeps([3,1,2,4,5,6,7,8]))),zo=be.lazy(()=>xe(()=>import("./Projects-ue_nZ3JU.js"),__vite__mapDeps([9,1,2,10,11,12,6,7,8,5]))),Yo=be.lazy(()=>xe(()=>import("./Tasks-DdDR1n7N.js"),__vite__mapDeps([13,1,2,10,11,14,8,7,4]))),Ho=be.lazy(()=>xe(()=>import("./Sprints-ESUOAk5I.js"),__vite__mapDeps([15,1,2,10,11,4,8,7]))),Qo=be.lazy(()=>xe(()=>import("./Studies-fEOy68Ti.js"),__vite__mapDeps([16,1,2,10,11,12,6,7,8]))),Go=be.lazy(()=>xe(()=>import("./Content-B_oVgLAX.js"),__vite__mapDeps([17,1,2,10,11]))),Jo=be.lazy(()=>xe(()=>import("./DailyPlanner-BTUN9oH1.js"),__vite__mapDeps([18,1,2,4,19,20]))),Xo=be.lazy(()=>xe(()=>import("./WeeklyReview-DYNZl1oP.js"),__vite__mapDeps([21,1,2,4,22,20]))),Zo=be.lazy(()=>xe(()=>import("./Areas-D1lJzcPU.js"),__vite__mapDeps([23,1,2,24,5,22]))),eu=be.lazy(()=>xe(()=>import("./Goals-Ba_jWF6r.js"),__vite__mapDeps([25,1,2,11,22,24]))),tu=be.lazy(()=>xe(()=>import("./Habits-DkkB_Im7.js"),__vite__mapDeps([26,1,2,8]))),nu=be.lazy(()=>xe(()=>import("./Knowledge-AsLd4aUL.js"),__vite__mapDeps([27,1,2]))),ru=be.lazy(()=>xe(()=>import("./CRM-DpWfSYQA.js"),__vite__mapDeps([28,1,2,11]))),au=be.lazy(()=>xe(()=>import("./Journal-u9qjKz4I.js"),__vite__mapDeps([29,1,2,20]))),iu=be.lazy(()=>xe(()=>import("./Meetings-CCg0Joo0.js"),__vite__mapDeps([30,1,2,5]))),su=be.lazy(()=>xe(()=>import("./UltimateCalendar-D95n6dE0.js"),__vite__mapDeps([31,1,2,19,4,8,7]))),ou=()=>le.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 dark:bg-slate-950 text-slate-500 dark:text-slate-300",children:"Cargando interfaz..."}),Ee=()=>le.jsx("div",{className:"flex h-full items-center justify-center py-10",children:le.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cargando vista..."})});function we(o,n){return le.jsx(be.Suspense,{fallback:n,children:le.jsx(o,{})})}hs();typeof window<"u"&&Vo();const uu=Ai([{path:"/",element:we(Wo,le.jsx(ou,{})),children:[{index:!0,element:we(Uo,le.jsx(Ee,{}))},{path:"daily",element:we(Jo,le.jsx(Ee,{}))},{path:"weekly-review",element:we(Xo,le.jsx(Ee,{}))},{path:"areas",element:we(Zo,le.jsx(Ee,{}))},{path:"goals",element:we(eu,le.jsx(Ee,{}))},{path:"projects",element:we(zo,le.jsx(Ee,{}))},{path:"tasks",element:we(Yo,le.jsx(Ee,{}))},{path:"sprints",element:we(Ho,le.jsx(Ee,{}))},{path:"habits",element:we(tu,le.jsx(Ee,{}))},{path:"calendar",element:we(su,le.jsx(Ee,{}))},{path:"studies",element:we(Qo,le.jsx(Ee,{}))},{path:"content",element:we(Go,le.jsx(Ee,{}))},{path:"knowledge",element:we(nu,le.jsx(Ee,{}))},{path:"crm",element:we(ru,le.jsx(Ee,{}))},{path:"journal",element:we(au,le.jsx(Ee,{}))},{path:"meetings",element:we(iu,le.jsx(Ee,{}))}]}]);async function cu(){try{await No()}catch(n){console.error("No se pudo inicializar la base de datos local",n)}const o=document.getElementById("root");if(!o)throw new Error("No se encontró el contenedor #root");Pr.createRoot(o).render(le.jsx(Ri.StrictMode,{children:le.jsx(Di,{client:Ba,children:le.jsx(Ii,{router:uu})})}))}cu();export{Te as a,Xt as b,Z as c,re as d,ys as e,G as f,Ue as g,pu as h,Ta as i,mu as m,gs as n,Da as s,hu as t};
