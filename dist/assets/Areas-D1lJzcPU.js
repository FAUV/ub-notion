import{j as s}from"./vendor-query-CfuGqJst.js";import{r as p}from"./vendor-react-Ba_DDsk4.js";import{u as h}from"./areas-CuyiulQt.js";import{u as j}from"./projects-D-qCoM0Y.js";import{u as g}from"./goals-qM0qUXOX.js";import"./index-uMaUSKow.js";function u({name:e,icon:d,vision:i,focus:r,status:t}){return s.jsxs("article",{className:"card p-5 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",role:"img","aria-hidden":d?"false":"true",children:d??"📁"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:e}),t&&s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:t})]})]}),i&&s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:i}),r&&s.jsxs("div",{className:"rounded-xl bg-slate-100 dark:bg-slate-800 px-3 py-2 text-xs",children:[s.jsx("span",{className:"font-medium",children:"Foco actual:"})," ",r]})]})}function A(){const{data:e=[],isLoading:d}=h(),{data:i=[]}=j(),{data:r=[]}=g(),t=p.useMemo(()=>{const a=e.filter(c=>c.status!=="Archived").length,l=r.length,n=r.reduce((c,x)=>c+(x.progress??0),0),o=l?Math.round(n/l):0,m=e.map(c=>({areaId:c.id,count:i.filter(x=>x.program===c.name).length}));return{activeAreas:a,totalGoals:l,avgProgress:o,projectsByArea:m}},[e,r,i]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Áreas y programas"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Gestiona las áreas estratégicas de Ultimate Brain con su visión, foco actual y objetivos."})]}),s.jsxs("section",{className:"grid gap-3 md:grid-cols-4",children:[s.jsxs("article",{className:"card p-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Áreas activas"}),s.jsx("p",{className:"text-2xl font-semibold mt-2",children:t.activeAreas})]}),s.jsxs("article",{className:"card p-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Objetivos vinculados"}),s.jsx("p",{className:"text-2xl font-semibold mt-2",children:t.totalGoals})]}),s.jsxs("article",{className:"card p-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Avance promedio"}),s.jsxs("p",{className:"text-2xl font-semibold mt-2",children:[t.avgProgress,"%"]})]}),s.jsxs("article",{className:"card p-4",children:[s.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Proyectos por área"}),s.jsx("ul",{className:"mt-3 space-y-1 text-sm",children:t.projectsByArea.map(a=>{var l;return s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:((l=e.find(n=>n.id===a.areaId))==null?void 0:l.name)??"—"}),s.jsx("span",{children:a.count})]},a.areaId)})})]})]}),d?s.jsx("div",{className:"card p-4 text-sm text-slate-500 dark:text-slate-400",children:"Cargando áreas..."}):s.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[e.map(a=>s.jsx(u,{...a},a.id)),!e.length&&s.jsx("div",{className:"card p-4 text-sm text-slate-500 dark:text-slate-400",children:"No hay áreas registradas."})]})]})}export{A as default};
