import{j as e}from"./vendor-query-CfuGqJst.js";import{r as m}from"./vendor-react-Ba_DDsk4.js";import{u as o}from"./tasks-t6ey88ep.js";import{u as h}from"./goals-qM0qUXOX.js";import{u as p}from"./journal-v6KK7h4e.js";import{e as r,f as u}from"./index-uMaUSKow.js";const d=new Date;function y(){const{data:l=[]}=o(),{data:i=[]}=h(),{data:c=[]}=p(),t=m.useMemo(()=>{const s=l.filter(a=>a.endDate&&r(d,new Date(a.endDate))<=7),n=l.filter(a=>a.status==="Blocked"),x=i.filter(a=>a.dueDate&&r(new Date(a.dueDate),d)<=30);return{completedThisWeek:s,blocked:n,upcomingGoals:x}},[l,i]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Weekly Review"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Checklist guiado de Ultimate Brain para cerrar la semana con claridad y preparar la siguiente."})]}),e.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("article",{className:"card p-4 space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold",children:"Celebraciones"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[t.completedThisWeek.slice(0,5).map(s=>e.jsxs("li",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Cerrada ",s.endDate]})]},s.id)),!t.completedThisWeek.length&&e.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Sin entregables esta semana."})]})]}),e.jsxs("article",{className:"card p-4 space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold",children:"Bloqueos"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[t.blocked.slice(0,5).map(s=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:s.title}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:s.assignee??"—"})]},s.id)),!t.blocked.length&&e.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Nada bloqueado, sigue así."})]})]}),e.jsxs("article",{className:"card p-4 space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold",children:"Próximos 30 días"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[t.upcomingGoals.map(s=>e.jsxs("li",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Entrega ",s.dueDate]})]},s.id)),!t.upcomingGoals.length&&e.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Sin entregas próximas."})]})]})]}),e.jsxs("section",{className:"card p-4 space-y-3",children:[e.jsx("h2",{className:"text-sm font-semibold",children:"Reflexiones del diario"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[c.slice(0,4).map(s=>e.jsxs("li",{className:"border border-slate-200 dark:border-slate-800 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:u(new Date(s.date),"dd MMM")}),e.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400",children:s.mood??"—"})]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Highlight: ",s.highlights??"—"]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Reto: ",s.challenges??"—"]})]},s.id)),!c.length&&e.jsx("li",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Añade tus reflexiones para nutrir la revisión semanal."})]})]})]})}export{y as default};
