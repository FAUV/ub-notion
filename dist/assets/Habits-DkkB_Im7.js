import{b as l,j as e}from"./vendor-query-CfuGqJst.js";import{r as i}from"./vendor-react-Ba_DDsk4.js";import{d}from"./index-uMaUSKow.js";import{R as c,B as n,X as m,Y as x,T as o,f as h}from"./vendor-charts-Ci5G67-A.js";const p={all:["habits"]};async function j(){return d.habits.orderBy("title").toArray()}function u(){return l({queryKey:p.all,queryFn:j,staleTime:6e4})}function k(){const{data:a=[],isLoading:t}=u(),r=i.useMemo(()=>a.map(s=>({name:s.title,streak:s.streak??0})),[a]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("header",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Hábitos & Rituales"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Haz seguimiento de tus sistemas recurrentes como en Ultimate Brain: streaks, cadencia y foco por área."})]}),t?e.jsx("div",{className:"card p-4 text-sm text-slate-500 dark:text-slate-400",children:"Cargando hábitos..."}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"card p-4",children:[e.jsx("h2",{className:"text-sm font-semibold mb-3",children:"Streaks actuales"}),e.jsx("div",{className:"h-64",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(n,{data:r,layout:"vertical",margin:{left:80},children:[e.jsx(m,{type:"number",allowDecimals:!1}),e.jsx(x,{type:"category",dataKey:"name",width:180}),e.jsx(o,{}),e.jsx(h,{dataKey:"streak",fill:"#0ea5e9",radius:[6,6,6,6]})]})})})]}),e.jsx("div",{className:"card p-0 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"text-left text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400 border-b border-slate-200 dark:border-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 font-medium",children:"Hábito"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Cadencia"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Métrica"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Racha"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Último check"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:[a.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:s.title}),e.jsx("td",{className:"px-4 py-3",children:s.cadence}),e.jsx("td",{className:"px-4 py-3",children:s.metric??"—"}),e.jsx("td",{className:"px-4 py-3",children:s.streak??0}),e.jsx("td",{className:"px-4 py-3",children:s.lastChecked??"—"})]},s.id)),!a.length&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-slate-500 dark:text-slate-400",children:"No hay hábitos configurados."})})]})]})})]})]})}export{k as default};
